!function(a){"use strict";function c(){function b(b){a=b}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var a=[],c={},d=[];return Object.observe(c,b),Array.observe(d,b),c.id=1,c.id=2,delete c.id,d.push(1,2),d.length=0,Object.deliverChangeRecords(b),5!==a.length?!1:"add"!=a[0].type||"update"!=a[1].type||"delete"!=a[2].type||"splice"!=a[3].type||"splice"!=a[4].type?!1:(Object.unobserve(c,b),Array.unobserve(d,b),!0)}function e(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var a=new Function("","return true;");return a()}catch(b){return!1}}function g(a){return+a===a>>>0&&""!==a}function h(a){return+a}function i(a){return a===Object(a)}function k(a,b){return a===b?0!==a||1/a===1/b:j(a)&&j(b)?!0:a!==a&&b!==b}function p(a){if(void 0===a)return"eof";var b=a.charCodeAt(0);switch(b){case 91:case 93:case 46:case 34:case 39:case 48:return a;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return b>=97&&122>=b||b>=65&&90>=b?"ident":b>=49&&57>=b?"number":"else"}function r(){}function s(a){function m(){if(!(c>=a.length)){var b=a[c+1];return"inSingleQuote"==k&&"'"==b||"inDoubleQuote"==k&&'"'==b?(c++,e=b,l.append(),!0):void 0}}for(var d,e,f,g,h,i,j,b=[],c=-1,k="beforePath",l={push:function(){void 0!==f&&(b.push(f),f=void 0)},append:function(){void 0===f?f=e:f+=e}};k;)if(c++,d=a[c],"\\"!=d||!m(k)){if(g=p(d),j=q[k],h=j[g]||j["else"]||"error","error"==h)return;if(k=h[0],i=l[h[1]]||r,e=void 0===h[2]?d:h[2],i(),"afterPath"===k)return b}}function t(a){return o.test(a)}function v(a,b){if(b!==u)throw Error("Use Path.get to retrieve path objects");for(var c=0;c<a.length;c++)this.push(String(a[c]));f&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function x(a){if(a instanceof v)return a;if((null==a||0==a.length)&&(a=""),"string"!=typeof a){if(g(a.length))return new v(a,u);a=String(a)}var b=w[a];if(b)return b;var c=s(a);if(!c)return z;var b=new v(c,u);return w[a]=b,b}function y(a){return g(a)?"["+a+"]":'["'+a.replace(/"/g,'\\"')+'"]'}function B(c){for(var d=0;A>d&&c.check_();)d++;return b&&(a.dirtyCheckCycleCount=d),d>0}function C(a){for(var b in a)return!1;return!0}function D(a){return C(a.added)&&C(a.removed)&&C(a.changed)}function E(a,b){var c={},d={},e={};for(var f in b){var g=a[f];(void 0===g||g!==b[f])&&(f in a?g!==b[f]&&(e[f]=g):d[f]=void 0)}for(var f in a)f in b||(c[f]=a[f]);return Array.isArray(a)&&a.length!==b.length&&(e.length=a.length),{added:c,removed:d,changed:e}}function G(){if(!F.length)return!1;for(var a=0;a<F.length;a++)F[a]();return F.length=0,!0}function J(){function e(b){a&&a.state_===Q&&!c&&a.check_(b)}var a,b,c=!1,d=!0;return{open:function(b){if(a)throw Error("ObservedObject in use");d||Object.deliverChangeRecords(e),a=b,d=!1},observe:function(a,c){b=a,c?Array.observe(b,e):Object.observe(b,e)},deliver:function(a){c=a,Object.deliverChangeRecords(e),c=!1},close:function(){a=void 0,Object.unobserve(b,e),I.push(this)}}}function K(a,b,c){var d=I.pop()||J();return d.open(a),d.observe(b,c),d}function M(){function f(a,b){a&&(a===d&&(e[b]=!0),c.indexOf(a)<0&&(c.push(a),Object.observe(a,h)),f(Object.getPrototypeOf(a),b))}function g(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.object!==d||e[c.name]||"setPrototype"===c.type)return!1}return!0}function h(a){if(!g(a)){for(var c,d=0;d<b.length;d++)c=b[d],c.state_==Q&&c.iterateObjects_(f);for(var d=0;d<b.length;d++)c=b[d],c.state_==Q&&c.check_()}}var d,e,a=0,b=[],c=[],i={object:void 0,objects:c,open:function(c,g){d||(d=g,e={}),b.push(c),a++,c.iterateObjects_(f)},close:function(){if(a--,!(a>0)){for(var g=0;g<c.length;g++)Object.unobserve(c[g],h),U.unobservedCount++;b.length=0,c.length=0,d=void 0,e=void 0,L.push(this)}}};return i}function O(a,b){return N&&N.object===b||(N=L.pop()||M(),N.object=b),N.open(a,b),N}function U(){this.state_=P,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=T++}function X(a){U._allObserversCount++,V&&W.push(a)}function Y(){U._allObserversCount--}function $(a){U.call(this),this.value_=a,this.oldObject_=void 0}function _(a){if(!Array.isArray(a))throw Error("Provided object is not an Array");$.call(this,a)}function ab(a,b){U.call(this),this.object_=a,this.path_=x(b),this.directObserver_=void 0}function bb(a){U.call(this),this.reportChangesOnOpen_=a,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function db(a){return a}function eb(a,b,c,d){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=a,this.getValueFn_=b||db,this.setValueFn_=c||db,this.dontPassThroughSet_=d}function gb(a,b,c){for(var d={},e={},f=0;f<b.length;f++){var g=b[f];fb[g.type]?(g.name in c||(c[g.name]=g.oldValue),"update"!=g.type&&("add"!=g.type?g.name in d?(delete d[g.name],delete c[g.name]):e[g.name]=!0:g.name in e?delete e[g.name]:d[g.name]=!0)):(console.error("Unknown changeRecord type: "+g.type),console.error(g))}for(var h in d)d[h]=a[h];for(var h in e)e[h]=void 0;var i={};for(var h in c)if(!(h in d||h in e)){var j=a[h];c[h]!==j&&(i[h]=j)}return{added:d,removed:e,changed:i}}function hb(a,b,c){return{index:a,removed:b,addedCount:c}}function mb(){}function ob(a,b,c,d,e,f){return nb.calcSplices(a,b,c,d,e,f)}function pb(a,b,c,d){return c>b||a>d?-1:b==c||d==a?0:c>a?d>b?b-c:d-c:b>d?d-a:b-a}function qb(a,b,c,d){for(var e=hb(b,c,d),f=!1,g=0,h=0;h<a.length;h++){var i=a[h];if(i.index+=g,!f){var j=pb(e.index,e.index+e.removed.length,i.index,i.index+i.addedCount);if(j>=0){a.splice(h,1),h--,g-=i.addedCount-i.removed.length,e.addedCount+=i.addedCount-j;var k=e.removed.length+i.removed.length-j;if(e.addedCount||k){var c=i.removed;if(e.index<i.index){var l=e.removed.slice(0,i.index-e.index);Array.prototype.push.apply(l,c),c=l}if(e.index+e.removed.length>i.index+i.addedCount){var m=e.removed.slice(i.index+i.addedCount-e.index);Array.prototype.push.apply(c,m)}e.removed=c,i.index<e.index&&(e.index=i.index)}else f=!0}else if(e.index<i.index){f=!0,a.splice(h,0,e),h++;var n=e.addedCount-e.removed.length;i.index+=n,g+=n}}}f||a.push(e)}function rb(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];switch(e.type){case"splice":qb(c,e.index,e.removed.slice(),e.addedCount);break;case"add":case"update":case"delete":if(!g(e.name))continue;var f=h(e.name);if(0>f)continue;qb(c,f,[e.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(e))}}return c}function sb(a,b){var c=[];return rb(a,b).forEach(function(b){return 1==b.addedCount&&1==b.removed.length?(b.removed[0]!==a[b.index]&&c.push(b),void 0):(c=c.concat(ob(a,b.index,b.index+b.addedCount,b.removed,0,b.removed.length)),void 0)}),c}var b=a.testingExposeCycleCount,d=c(),f=e(),j=a.Number.isNaN||function(b){return"number"==typeof b&&a.isNaN(b)},l="__proto__"in{}?function(a){return a}:function(a){var b=a.__proto__;if(!b)return a;var c=Object.create(b);return Object.getOwnPropertyNames(a).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))}),c},m="[$_a-zA-Z]",n="[$_a-zA-Z0-9]",o=new RegExp("^"+m+"+"+n+"*"+"$"),q={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},u={},w={};v.get=x,v.prototype=l({__proto__:[],valid:!0,toString:function(){for(var a="",b=0;b<this.length;b++){var c=this[b];a+=t(c)?b?"."+c:c:y(c)}return a},getValueFrom:function(a){for(var c=0;c<this.length;c++){if(null==a)return;a=a[this[c]]}return a},iterateObjects:function(a,b){for(var c=0;c<this.length;c++){if(c&&(a=a[this[c-1]]),!i(a))return;b(a,this[0])}},compiledGetValueFromFn:function(){var a="",b="obj";a+="if (obj != null";for(var d,c=0;c<this.length-1;c++)d=this[c],b+=t(d)?"."+d:y(d),a+=" &&\n     "+b+" != null";a+=")\n";var d=this[c];return b+=t(d)?"."+d:y(d),a+="  return "+b+";\nelse\n  return undefined;",new Function("obj",a)},setValueFrom:function(a,b){if(!this.length)return!1;for(var c=0;c<this.length-1;c++){if(!i(a))return!1;a=a[this[c]]}return i(a)?(a[this[c]]=b,!0):!1}});var z=new v("",u);z.valid=!1,z.getValueFrom=z.setValueFrom=function(){};var N,A=1e3,F=[],H=d?function(){var a={pingPong:!0},b=!1;return Object.observe(a,function(){G(),b=!1}),function(c){F.push(c),b||(b=!0,a.pingPong=!a.pingPong)}}():function(){return function(a){F.push(a)}}(),I=[],L=[],P=0,Q=1,R=2,S=3,T=1;U.prototype={open:function(a,b){if(this.state_!=P)throw Error("Observer has already been opened.");return X(this),this.callback_=a,this.target_=b,this.connect_(),this.state_=Q,this.value_},close:function(){this.state_==Q&&(Y(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=R)},deliver:function(){this.state_==Q&&B(this)},report_:function(a){try{this.callback_.apply(this.target_,a)}catch(b){U._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(b.stack||b))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var W,V=!d;U._allObserversCount=0,V&&(W=[]);var Z=!1;a.Platform=a.Platform||{},a.Platform.performMicrotaskCheckpoint=function(){if(!Z&&V){Z=!0;var d,e,c=0;do{c++,e=W,W=[],d=!1;for(var f=0;f<e.length;f++){var g=e[f];g.state_==Q&&(g.check_()&&(d=!0),W.push(g))}G()&&(d=!0)}while(A>c&&d);b&&(a.dirtyCheckCycleCount=c),Z=!1}},V&&(a.Platform.clearObservers=function(){W=[]}),$.prototype=l({__proto__:U.prototype,arrayObserve:!1,connect_:function(){d?this.directObserver_=K(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(a){var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=a[c];return Array.isArray(a)&&(b.length=a.length),b},check_:function(a){var c,e;if(d){if(!a)return!1;e={},c=gb(this.value_,a,e)}else e=this.oldObject_,c=E(this.value_,this.oldObject_);return D(c)?!1:(d||(this.oldObject_=this.copyObject(this.value_)),this.report_([c.added||{},c.removed||{},c.changed||{},function(a){return e[a]}]),!0)},disconnect_:function(){d?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==Q&&(d?this.directObserver_.deliver(!1):B(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),_.prototype=l({__proto__:$.prototype,arrayObserve:!0,copyObject:function(a){return a.slice()},check_:function(a){var b;if(d){if(!a)return!1;b=sb(this.value_,a)}else b=ob(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return b&&b.length?(d||(this.oldObject_=this.copyObject(this.value_)),this.report_([b]),!0):!1}}),_.applySplices=function(a,b,c){c.forEach(function(c){for(var d=[c.index,c.removed.length],e=c.index;e<c.index+c.addedCount;)d.push(b[e]),e++;Array.prototype.splice.apply(a,d)})},ab.prototype=l({__proto__:U.prototype,get path(){return this.path_},connect_:function(){d&&(this.directObserver_=O(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(a){this.path_.iterateObjects(this.object_,a)},check_:function(a,b){var c=this.value_;return this.value_=this.path_.getValueFrom(this.object_),b||k(this.value_,c)?!1:(this.report_([this.value_,c,this]),!0)},setValue:function(a){this.path_&&this.path_.setValueFrom(this.object_,a)}});var cb={};bb.prototype=l({__proto__:U.prototype,connect_:function(){if(d){for(var a,b=!1,c=0;c<this.observed_.length;c+=2)if(a=this.observed_[c],a!==cb){b=!0;break}b&&(this.directObserver_=O(this,a))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var a=0;a<this.observed_.length;a+=2)this.observed_[a]===cb&&this.observed_[a+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(a,b){if(this.state_!=P&&this.state_!=S)throw Error("Cannot add paths once started.");var b=x(b);if(this.observed_.push(a,b),this.reportChangesOnOpen_){var c=this.observed_.length/2-1;this.value_[c]=b.getValueFrom(a)}},addObserver:function(a){if(this.state_!=P&&this.state_!=S)throw Error("Cannot add observers once started.");if(this.observed_.push(cb,a),this.reportChangesOnOpen_){var b=this.observed_.length/2-1;this.value_[b]=a.open(this.deliver,this)}},startReset:function(){if(this.state_!=Q)throw Error("Can only reset while open");this.state_=S,this.disconnect_()},finishReset:function(){if(this.state_!=S)throw Error("Can only finishReset after startReset");return this.state_=Q,this.connect_(),this.value_},iterateObjects_:function(a){for(var b,c=0;c<this.observed_.length;c+=2)b=this.observed_[c],b!==cb&&this.observed_[c+1].iterateObjects(b,a)},check_:function(a,b){for(var c,d=0;d<this.observed_.length;d+=2){var g,e=this.observed_[d],f=this.observed_[d+1];if(e===cb){var h=f;g=this.state_===P?h.open(this.deliver,this):h.discardChanges()}else g=f.getValueFrom(e);b?this.value_[d/2]=g:k(g,this.value_[d/2])||(c=c||[],c[d/2]=this.value_[d/2],this.value_[d/2]=g)}return c?(this.report_([this.value_,c,this.observed_]),!0):!1}}),eb.prototype={open:function(a,b){return this.callback_=a,this.target_=b,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(a){if(a=this.getValueFn_(a),!k(a,this.value_)){var b=this.value_;this.value_=a,this.callback_.call(this.target_,this.value_,b)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(a){return a=this.setValueFn_(a),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(a):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var fb={add:!0,update:!0,"delete":!0},ib=0,jb=1,kb=2,lb=3;mb.prototype={calcEditDistances:function(a,b,c,d,e,f){for(var g=f-e+1,h=c-b+1,i=new Array(g),j=0;g>j;j++)i[j]=new Array(h),i[j][0]=j;for(var k=0;h>k;k++)i[0][k]=k;for(var j=1;g>j;j++)for(var k=1;h>k;k++)if(this.equals(a[b+k-1],d[e+j-1]))i[j][k]=i[j-1][k-1];else{var l=i[j-1][k]+1,m=i[j][k-1]+1;i[j][k]=m>l?l:m}return i},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,d=a[b][c],e=[];b>0||c>0;)if(0!=b)if(0!=c){var i,f=a[b-1][c-1],g=a[b-1][c],h=a[b][c-1];i=h>g?f>g?g:f:f>h?h:f,i==f?(f==d?e.push(ib):(e.push(jb),d=f),b--,c--):i==g?(e.push(lb),b--,d=g):(e.push(kb),c--,d=h)}else e.push(lb),b--;else e.push(kb),c--;return e.reverse(),e},calcSplices:function(a,b,c,d,e,f){var g=0,h=0,i=Math.min(c-b,f-e);if(0==b&&0==e&&(g=this.sharedPrefix(a,d,i)),c==a.length&&f==d.length&&(h=this.sharedSuffix(a,d,i-g)),b+=g,e+=g,c-=h,f-=h,0==c-b&&0==f-e)return[];if(b==c){for(var j=hb(b,[],0);f>e;)j.removed.push(d[e++]);return[j]}if(e==f)return[hb(b,[],c-b)];for(var k=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,b,c,d,e,f)),j=void 0,l=[],m=b,n=e,o=0;o<k.length;o++)switch(k[o]){case ib:j&&(l.push(j),j=void 0),m++,n++;break;case jb:j||(j=hb(m,[],0)),j.addedCount++,m++,j.removed.push(d[n]),n++;break;case kb:j||(j=hb(m,[],0)),j.addedCount++,m++;break;case lb:j||(j=hb(m,[],0)),j.removed.push(d[n]),n++}return j&&l.push(j),l},sharedPrefix:function(a,b,c){for(var d=0;c>d;d++)if(!this.equals(a[d],b[d]))return d;return c},sharedSuffix:function(a,b,c){for(var d=a.length,e=b.length,f=0;c>f&&this.equals(a[--d],b[--e]);)f++;return f},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};var nb=new mb;a.Observer=U,a.Observer.runEOM_=H,a.Observer.observerSentinel_=cb,a.Observer.hasObjectObserve=d,a.ArrayObserver=_,a.ArrayObserver.calculateSplices=function(a,b){return nb.calculateSplices(a,b)},a.ArraySplice=mb,a.ObjectObserver=$,a.PathObserver=ab,a.CompoundObserver=bb,a.Path=v,a.ObserverTransform=eb}("undefined"!=typeof global&&global&&"undefined"!=typeof module&&module?global:this||window);var $$__Hooks=[Platform.performMicrotaskCheckpoint],hasNativeObjectObserve=Observer.hasObjectObserve,maxCheckDuration=300,checkerTheshold=60,checkerTimer=null,checkStartTime=null,checkDuration=0,checkerStep=function(){maxCheckDuration>checkDuration?window.nativeSetTimeout(function(){$$__Hooks.forEach(function(a){a()}),checkerTimer=window.nativeSetTimeout(function(){checkerStep()},checkerTheshold),checkDuration+=checkerTheshold},0):(window.clearTimeout(checkerTimer),checkerTimer=null,checkDuration=0)},executeHooks=function(){if(!hasNativeObjectObserve){if(checkerTimer)return checkDuration=0,void 0;checkerStep()}};Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var g,h,f=[];for(g in e)a.call(e,g)&&f.push(g);if(b)for(h=0;d>h;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Object.changes||(Object.changes=function(a,b){var c={},d={},e={},f="$$__";for(var g in a)if(0!=g.indexOf(f)){var h=b[g];(void 0===h||h!==a[g])&&(g in b?h!==a[g]&&(e[g]=h):d[g]=void 0)}for(var g in b)0!=g.indexOf(f)&&(g in a||(c[g]=b[g]));return Array.isArray(b)&&b.length!==a.length&&(e.length=b.length),{added:c,removed:d,changed:e}});var utils={classToTypeMap:{"[object String]":"String","[object Array]":"Array","[object Object]":"Object","[object RegExp]":"RegExp","[object Number]":"Number","[object Boolean]":"Boolean","[object Date]":"Date","[object Function]":"Function","[object Error]":"Error"},getClass:function(a){if(void 0===a)return"Undefined";if(null===a)return"Null";var b=Object.prototype.toString.call(a);return this.classToTypeMap[b]||b.slice(8,-1)},getUID:function(){return((new Date).getTime()+""+Math.floor(1e6*Math.random())).substr(0,18)},isFunction:function(a){return"function"==typeof a},equals:function(a,b){return this.__equals(a,b,[],[])},isObject:function(a){return"[object Object]"==Object.prototype.toString.call(a)},isDate:function(a){return"[object Date]"==Object.prototype.toString.call(a)},camelCase:function(a){return(a||"").toLowerCase().replace(/(-)\w/g,function(a){return a.toUpperCase().replace(/-/,"")})},hyphenate:function(a){return a.replace(/\s/g,"-").toLowerCase()},__equals:function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;var e=Object.prototype.toString.call(a);if(e!=Object.prototype.toString.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(this.isFunction(g)&&g instanceof g&&this.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=this.__equals(a[i],b[i],c,d)););}else{for(var k in a)if(Object.prototype.hasOwnProperty.call(a,k)&&(i++,!(j=Object.prototype.hasOwnProperty.call(b,k)&&this.__equals(a[k],b[k],c,d))))break;if(j){for(k in b)if(Object.prototype.hasOwnProperty.call(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j}};hasNativeObjectObserve||(window.addEventListener("load",function(){window.nativeSetTimeout(executeHooks,0)},!1),[window,document,Element.prototype].forEach(function(a){!function(){var b=a.addEventListener;a.addEventListener=function(a,c,d){if("function"==typeof c){c.$$__observerId=c.$$__observerId||utils.getUID(),this.$$__observers=this.$$__observers||{},this.$$__observers[a]||(this.$$__observers[a]=[]);var e=function(){c.apply(this,[].slice.call(arguments)),executeHooks()};this.$$__observers[a][c.$$__observerId]={callback:e,useCapture:d},b.call(this,a,e,d)}else b.call(this,a,c,d)}}()}),[window,document,Element.prototype].forEach(function(a){!function(){var b=a.removeEventListener;a.removeEventListener=function(a,c,d){if("function"==typeof c&&c.$$__observerId&&this.$$__observers){var e=c.$$__observerId;if(e&&this.$$__observers[a]){var f=this.$$__observers[a][e];f&&f.useCapture===d?b.call(this,a,f.callback,d):b.call(this,a,c,d)}else b.call(this,a,c,d)}}}()})),hasNativeObjectObserve||function(a){XMLHttpRequest.prototype.send=function(){var b=this.onreadystatechange,c=function(){b(),executeHooks()};this.onreadystatechange=c,a.apply(this,arguments)}}(XMLHttpRequest.prototype.send),hasNativeObjectObserve||(window.nativeSetTimeout=window.setTimeout,window.nativeSetInterval=window.setInterval,window.setTimeout=function(a,b){window.nativeSetTimeout(function(){a.apply(this,[].slice.call(arguments)),executeHooks()},b)},window.setInterval=function(a,b){window.nativeSetInterval(function(){a.apply(this,[].slice.call(arguments)),executeHooks()},b)});var hasNativeRequestAninationFrame=!1;!function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];hasNativeRequestAninationFrame="undefined"!=typeof window.requestAnimationFrame,window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(){if(hasNativeObjectObserve&&hasNativeRequestAninationFrame){var a=window.requestAnimationFrame;window.requestAnimationFrame=function(b,c){var d=function(){b(),executeHooks()};a.call(this,d,c)};var b=window.cancelAnimationFrame;window.cancelAnimationFrame=function(a){b.call(this,a),executeHooks()}}}(),function(){if(!hasNativeObjectObserve&&!Object.observe){Object.getNotifier=function(a){return{notify:function(b){var c=a.$$__observers||{};for(var d in c)c[d].callback.call(c[d].scope,b)}}};var a=function(a,b){return 0==b.length||-1!=b.indexOf(a)};Object.observe=function(b,c,d){var e=[],f=null,g=null;if(d=d||[],c.$$__observerId=c.$$__observerId||utils.getUID(),b.$$__observers=b.$$__observers||{},Array.isArray(b)){var h=b.length;g=new ArrayObserver(b);var i=JSON.parse(JSON.stringify(b));f=function(f){if(f=f[0],b.length<h){if(a("update",d))for(var g=f.index;g<b.length;g++)e[g-f.index]={name:""+g,object:b,oldValue:i[g],type:"update"};if(a("delete",d)){var j=b.length;f.removed.forEach(function(a,c){e[e.length]={name:""+(j+c),object:b,oldValue:i[j+c],type:"delete"}})}}else if(b.length>h){if(a("add",d))for(var g=0;g<f.addedCount;g++)e[e.length]={name:f.index+g,object:b,type:"add"}}else{f.index;for(var l=null,g=0;g<f.addedCount;g++)l=void 0===b[f.index+g]?"delete":"update",a(l,d)&&(e[e.length]={name:f.index+g+"",object:b,oldValue:i[f.index+g],type:l})}a("update",d)&&b.length!=h&&(e[e.length]={name:"length",object:b,oldValue:i.length,type:"update"}),c.call(this,e),executeHooks()}}else utils.isObject(b)&&(e=[],g=new ObjectObserver(b),f=function(f,g,h,i){a("add",d)&&Object.keys(f).forEach(function(a){e[e.length]={name:a,object:b,type:"add"}}),a("update",d)&&Object.keys(h).forEach(function(a){e[e.length]={name:a,object:b,oldValue:i(a),type:"update"}}),a("delete",d)&&Object.keys(g).forEach(function(a){e[e.length]={name:a,object:b,oldValue:i(a),type:"delete"}}),c.call(this,e),executeHooks()});if(f&&g)b.$$__observers[c.$$__observerId]={callback:f,scope:this,observer:g},g.open(f);else if(!utils.isDate(b))throw new Error("TypeError: Object.observe cannot observe non-object");return b},Object.unobserve=function(a,b){var c=b.$$__observerId;return a.$$__observers&&b.$$__observerId&&a.$$__observers[c]&&a.$$__observers[c].observer.close(),a}}Object.watch=function(a,b,c){c.$$__observerId=c.$$__observerId||utils.getUID(),a.$$__observers=a.$$__observers||{},internalCallback=function(){c.apply(this,[b].slice.call(arguments)),executeHooks()};var d=new PathObserver(a,b);return a.$$__observers[c.$$__observerId]={callback:internalCallback,observer:d,path:b},d.open(internalCallback),a},Object.unwatch=function(a,b,c){var d=c.$$__observerId;if(a.$$__observers&&c.$$__observerId){var e=a.$$__observers[d];e&&b==e.path&&a.$$__observers[d].observer.close()}return a}}();