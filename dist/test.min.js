!function(e){function t(e){for(var t=[],n=0,r=e.length;r>n;n++)-1==h.call(t,e[n])&&t.push(e[n]);return t}function n(e,n,r,i){if("string"!=typeof e)throw"System.register provided no module name";var o;o="boolean"==typeof r?{declarative:!1,deps:n,execute:i,executingRequire:r}:{declarative:!0,deps:n,declare:r},o.name=e,e in f||(f[e]=o),o.deps=t(o.deps),o.normalizedDeps=o.deps}function r(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==h.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var n=0,i=e.normalizedDeps.length;i>n;n++){var o=e.normalizedDeps[n],s=f[o];if(s&&!s.evaluated){var a=e.groupIndex+(s.declarative!=e.declarative);if(void 0===s.groupIndex||s.groupIndex<a){if(void 0!==s.groupIndex&&(t[s.groupIndex].splice(h.call(t[s.groupIndex],s),1),0==t[s.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");s.groupIndex=a}r(s,t)}}}}function i(e){var t=f[e];t.groupIndex=0;var n=[];r(t,n);for(var i=!!t.declarative==n.length%2,o=n.length-1;o>=0;o--){for(var a=n[o],c=0;c<a.length;c++){var l=a[c];i?s(l):u(l)}i=!i}}function o(e){return p[e]||(p[e]={name:e,dependencies:[],exports:{},importers:[]})}function s(t){if(!t.module){var n=t.module=o(t.name),r=t.module.exports,i=t.declare.call(e,function(e,t){n.locked=!0,r[e]=t;for(var i=0,o=n.importers.length;o>i;i++){var s=n.importers[i];if(!s.locked){var a=h.call(s.dependencies,n);s.setters[a](r)}}return n.locked=!1,t});if(n.setters=i.setters,n.execute=i.execute,!n.setters||!n.execute)throw new TypeError("Invalid System.register form for "+t.name);for(var a=0,u=t.normalizedDeps.length;u>a;a++){var c,d=t.normalizedDeps[a],g=f[d],m=p[d];m?c=m.exports:g&&!g.declarative?c=g.module.exports&&g.module.exports.__esModule?g.module.exports:{"default":g.module.exports,__useDefault:!0}:g?(s(g),m=g.module,c=m.exports):c=l(d),m&&m.importers?(m.importers.push(n),n.dependencies.push(m)):n.dependencies.push(null),n.setters[a]&&n.setters[a](c)}}}function a(e){var t,n=f[e];if(n)n.declarative?c(e,[]):n.evaluated||u(n),t=n.module.exports;else if(t=l(e),!t)throw new Error("Unable to load dependency "+e+".");return(!n||n.declarative)&&t&&t.__useDefault?t["default"]:t}function u(t){if(!t.module){var n={},r=t.module={exports:n,id:t.name};if(!t.executingRequire)for(var i=0,o=t.normalizedDeps.length;o>i;i++){var s=t.normalizedDeps[i],c=f[s];c&&u(c)}t.evaluated=!0;var l=t.execute.call(e,function(e){for(var n=0,r=t.deps.length;r>n;n++)if(t.deps[n]==e)return a(t.normalizedDeps[n]);throw new TypeError("Module "+e+" not declared as a dependency.")},n,r);l&&(r.exports=l)}}function c(t,n){var r=f[t];if(r&&!r.evaluated&&r.declarative){n.push(t);for(var i=0,o=r.normalizedDeps.length;o>i;i++){var s=r.normalizedDeps[i];-1==h.call(n,s)&&(f[s]?c(s,n):l(s))}r.evaluated||(r.evaluated=!0,r.module.execute.call(e))}}function l(e){if(d[e])return d[e];var t=f[e];if(!t)throw"Module "+e+" not present.";i(e),c(e,[]),f[e]=void 0;var n=t.module.exports;return(!n||!t.declarative&&n.__esModule!==!0)&&(n={"default":n,__useDefault:!0}),d[e]=n}var f={},h=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},p={},d={};return function(t,r){var i,i={register:n,get:l,set:function(e,t){d[e]=t},newModule:function(e){return e},global:e};i.set("@empty",{}),r(i);for(var o=0;o<t.length;o++)l(t[o])}}("undefined"!=typeof window?window:global)(["test/test","test/run"],function(e){e.register("test/run",[],!1,function(t,n,r){return e.get("@@global-helpers").prepareGlobal(r.id,[]),function(){!function(){document.addEventListener("DOMContentLoaded",function(){mocha.run(function(e){e&&console.log(e)})},!1)}()}.call(e.global),e.get("@@global-helpers").retrieveGlobal(r.id,!1)}),e.register("npm:assertion-error@1.0.1/index",[],!0,function(require,t,n){function r(){function e(e,n){Object.keys(n).forEach(function(r){~t.indexOf(r)||(e[r]=n[r])})}var t=[].slice.call(arguments);return function(){for(var t=[].slice.call(arguments),n=0,r={};n<t.length;n++)e(r,t[n]);return r}}function i(e,t,n){var i=r("name","message","stack","constructor","toJSON"),o=i(t||{});this.message=e||"Unspecified AssertionError",this.showDiff=!1;for(var s in o)this[s]=o[s];n=n||arguments.callee,n&&Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=(new Error).stack}var o=e.global,s=o.define;return o.define=void 0,n.exports=i,i.prototype=Object.create(Error.prototype),i.prototype.name="AssertionError",i.prototype.constructor=i,i.prototype.toJSON=function(e){var t=r("constructor","toJSON","stack"),n=t({name:this.name},this);return!1!==e&&this.stack&&(n.stack=this.stack),n},o.define=s,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/flag",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t,n){var r=e.__flags||(e.__flags=Object.create(null));return 3!==arguments.length?r[t]:void(r[t]=n)},r.define=i,n.exports}),e.register("npm:type-detect@1.0.0/lib/type",[],!0,function(require,t,n){function r(e){var t=Object.prototype.toString.call(e).match(a)[1].toLowerCase();return"function"==typeof Promise&&e instanceof Promise?"promise":null===e?"null":void 0===e?"undefined":t}function i(){return this instanceof i?void(this.tests={}):new i}var o=e.global,s=o.define;o.define=void 0;var t=n.exports=r,a=/^\[object (.*)\]$/;return t.Library=i,i.prototype.of=r,i.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},i.prototype.test=function(e,t){if(t===r(e))return!0;var n=this.tests[t];if(n&&"regexp"===r(n))return n.test(e);if(n&&"function"===r(n))return n(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')},o.define=s,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/getActual",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t){return t.length>4?t[4]:e._obj},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/getName",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e){if(e.name)return e.name;var t=/^\s?function ([^(]*)\(/.exec(e);return t&&t[1]?t[1]:""},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/getProperties",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e){function t(e){-1===n.indexOf(e)&&n.push(e)}for(var n=Object.getOwnPropertyNames(e),r=Object.getPrototypeOf(e);null!==r;)Object.getOwnPropertyNames(r).forEach(t),r=Object.getPrototypeOf(r);return n},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/getEnumerableProperties",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e){var t=[];for(var n in e)t.push(n);return t},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/config",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports={includeStack:!1,showDiff:!0,truncateThreshold:40},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/transferFlags",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t,n){var r=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var i in r)(n||"object"!==i&&"ssfi"!==i&&"message"!=i)&&(t.__flags[i]=r[i])},r.define=i,n.exports}),e.register("npm:type-detect@0.1.1/lib/type",[],!0,function(require,t,n){function r(e){var t=Object.prototype.toString.call(e);return a[t]?a[t]:null===e?"null":void 0===e?"undefined":e===Object(e)?"object":typeof e}function i(){this.tests={}}var o=e.global,s=o.define;o.define=void 0;var t=n.exports=r,a={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};return t.Library=i,i.prototype.of=r,i.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},i.prototype.test=function(e,t){if(t===r(e))return!0;var n=this.tests[t];if(n&&"regexp"===r(n))return n.test(e);if(n&&"function"===r(n))return n(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')},o.define=s,n.exports}),e.register("npm:base64-js@0.0.8/lib/b64",[],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===f?62:t===a||t===h?63:u>t?-1:u+10>t?t-u+26+26:l+26>t?t-l:c+26>t?t-c+26:void 0}function n(e){function n(e){c[f++]=e}var r,o,s,a,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;u="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,c=new i(3*e.length/4-u),s=u>0?e.length-4:e.length;var f=0;for(r=0,o=0;s>r;r+=4,o+=3)a=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&a)):1===u&&(a=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function r(e){function t(e){return o.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,i,s,a=e.length%3,u="";for(r=0,s=e.length-a;s>r;r+=3)i=(e[r]<<16)+(e[r+1]<<8)+e[r+2],u+=n(i);switch(a){case 1:i=e[e.length-1],u+=t(i>>2),u+=t(i<<4&63),u+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],u+=t(i>>10),u+=t(i>>4&63),u+=t(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}("undefined"==typeof t?this.base64js={}:t),r.define=i,n.exports}),e.register("npm:ieee754@1.1.6/index",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+f>=1?h/u:h*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*g},r.define=i,n.exports}),e.register("npm:is-array@1.0.1/index",[],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=Array.isArray,s=Object.prototype.toString;return n.exports=o||function(e){return!!e&&"[object Array]"==s.call(e)},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/hasProperty",["npm:type-detect@1.0.0"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=require("npm:type-detect@1.0.0"),s={number:Number,string:String};return n.exports=function(e,t){var n=o(t);return"null"===n||"undefined"===n?!1:(s[n]&&"object"!=typeof t&&(t=new s[n](t)),e in t)},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/addProperty",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t,n){Object.defineProperty(e,t,{get:function(){var e=n.call(this);return void 0===e?this:e},configurable:!0})},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/addMethod",["npm:chai@3.2.0/lib/chai/config","npm:chai@3.2.0/lib/chai/utils/flag"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=require("npm:chai@3.2.0/lib/chai/config"),s=require("npm:chai@3.2.0/lib/chai/utils/flag");return n.exports=function(e,t,n){e[t]=function(){var r=s(this,"ssfi");r&&o.includeStack===!1&&s(this,"ssfi",e[t]);var i=n.apply(this,arguments);return void 0===i?this:i}},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/overwriteProperty",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t),i=function(){};r&&"function"==typeof r.get&&(i=r.get),Object.defineProperty(e,t,{get:function(){var e=n(i).call(this);return void 0===e?this:e},configurable:!0})},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/overwriteMethod",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t,n){var r=e[t],i=function(){return this};r&&"function"==typeof r&&(i=r),e[t]=function(){var e=n(i).apply(this,arguments);return void 0===e?this:e}},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/addChainableMethod",["npm:chai@3.2.0/lib/chai/utils/transferFlags","npm:chai@3.2.0/lib/chai/utils/flag","npm:chai@3.2.0/lib/chai/config"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=require("npm:chai@3.2.0/lib/chai/utils/transferFlags"),s=require("npm:chai@3.2.0/lib/chai/utils/flag"),a=require("npm:chai@3.2.0/lib/chai/config"),u="__proto__"in Object,c=/^(?:length|name|arguments|caller)$/,l=Function.prototype.call,f=Function.prototype.apply;return n.exports=function(e,t,n,r){"function"!=typeof r&&(r=function(){});var i={method:n,chainingBehavior:r};e.__methods||(e.__methods={}),e.__methods[t]=i,Object.defineProperty(e,t,{get:function(){i.chainingBehavior.call(this);var t=function h(){var e=s(this,"ssfi");e&&a.includeStack===!1&&s(this,"ssfi",h);var t=i.method.apply(this,arguments);return void 0===t?this:t};if(u){var n=t.__proto__=Object.create(this);n.call=l,n.apply=f}else{var r=Object.getOwnPropertyNames(e);r.forEach(function(n){if(!c.test(n)){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}})}return o(this,t),t},configurable:!0})},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/overwriteChainableMethod",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t,n,r){var i=e.__methods[t],o=i.chainingBehavior;i.chainingBehavior=function(){var e=r(o).call(this);return void 0===e?this:e};var s=i.method;i.method=function(){var e=n(s).apply(this,arguments);return void 0===e?this:e}},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/assertion",["npm:chai@3.2.0/lib/chai/config"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=require("npm:chai@3.2.0/lib/chai/config");return n.exports=function(e,t){function n(e,t,n){i(this,"ssfi",n||arguments.callee),i(this,"object",e),i(this,"message",t)}var r=e.AssertionError,i=t.flag;e.Assertion=n,Object.defineProperty(n,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),o.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),o.includeStack=e}}),Object.defineProperty(n,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),o.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),o.showDiff=e}}),n.addProperty=function(e,n){t.addProperty(this.prototype,e,n)},n.addMethod=function(e,n){t.addMethod(this.prototype,e,n)},n.addChainableMethod=function(e,n,r){t.addChainableMethod(this.prototype,e,n,r)},n.overwriteProperty=function(e,n){t.overwriteProperty(this.prototype,e,n)},n.overwriteMethod=function(e,n){t.overwriteMethod(this.prototype,e,n)},n.overwriteChainableMethod=function(e,n,r){t.overwriteChainableMethod(this.prototype,e,n,r)},n.prototype.assert=function(e,n,s,a,u,c){var l=t.test(this,arguments);if(!0!==c&&(c=!1),!0!==o.showDiff&&(c=!1),!l){var n=t.getMessage(this,arguments),f=t.getActual(this,arguments);throw new r(n,{actual:f,expected:a,showDiff:c},o.includeStack?this.assert:i(this,"ssfi"))}},Object.defineProperty(n.prototype,"_obj",{get:function(){return i(this,"object")},set:function(e){i(this,"object",e)}})},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/core/assertions",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t){function n(e,n){n&&S(this,"message",n),e=e.toLowerCase();var r=S(this,"object"),i=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(r),"expected #{this} to be "+i+e,"expected #{this} not to be "+i+e)}function r(){S(this,"contains",!0)}function i(e,n){n&&S(this,"message",n);var r=S(this,"object"),i=!1;if("array"===t.type(r)&&"object"===t.type(e)){for(var o in r)if(t.eql(r[o],e)){i=!0;break}}else if("object"===t.type(e)){if(!S(this,"negate")){for(var s in e)new O(r).property(s,e[s]);return}var a={};for(var s in e)a[s]=r[s];i=t.eql(a,e)}else i=r&&~r.indexOf(e);this.assert(i,"expected #{this} to include "+t.inspect(e),"expected #{this} to not include "+t.inspect(e))}function o(){var e=S(this,"object"),t=Object.prototype.toString.call(e);this.assert("[object Arguments]"===t,"expected #{this} to be arguments but got "+t,"expected #{this} to not be arguments")}function s(e,t){t&&S(this,"message",t);var n=S(this,"object");return S(this,"deep")?this.eql(e):void this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function a(e,n){n&&S(this,"message",n),this.assert(t.eql(e,S(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function u(e,t){t&&S(this,"message",t);var n=S(this,"object");if(S(this,"doLength")){new O(n,t).to.have.property("length");var r=n.length;this.assert(r>e,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",e,r)}else this.assert(n>e,"expected #{this} to be above "+e,"expected #{this} to be at most "+e)}function c(e,t){t&&S(this,"message",t);var n=S(this,"object");if(S(this,"doLength")){new O(n,t).to.have.property("length");var r=n.length;this.assert(r>=e,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",e,r)}else this.assert(n>=e,"expected #{this} to be at least "+e,"expected #{this} to be below "+e)}function l(e,t){t&&S(this,"message",t);var n=S(this,"object");if(S(this,"doLength")){new O(n,t).to.have.property("length");var r=n.length;this.assert(e>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",e,r)}else this.assert(e>n,"expected #{this} to be below "+e,"expected #{this} to be at least "+e)}function f(e,t){t&&S(this,"message",t);var n=S(this,"object");if(S(this,"doLength")){new O(n,t).to.have.property("length");var r=n.length;this.assert(e>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",e,r)}else this.assert(e>=n,"expected #{this} to be at most "+e,"expected #{this} to be above "+e)}function h(e,n){n&&S(this,"message",n);var r=t.getName(e);this.assert(S(this,"object")instanceof e,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function p(e,n){n&&S(this,"message",n);var r=S(this,"object");this.assert(r.hasOwnProperty(e),"expected #{this} to have own property "+t.inspect(e),"expected #{this} to not have own property "+t.inspect(e))}function d(e,n,r){"string"==typeof n&&(r=n,n=null),r&&S(this,"message",r);var i=S(this,"object"),o=Object.getOwnPropertyDescriptor(Object(i),e);o&&n?this.assert(t.eql(n,o),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to match "+t.inspect(n)+", got "+t.inspect(o),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to not match "+t.inspect(n),n,o,!0):this.assert(o,"expected #{this} to have an own property descriptor for "+t.inspect(e),"expected #{this} to not have an own property descriptor for "+t.inspect(e)),S(this,"object",o)}function g(){S(this,"doLength",!0)}function m(e,t){t&&S(this,"message",t);var n=S(this,"object");new O(n,t).to.have.property("length");var r=n.length;this.assert(r==e,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",e,r)}function b(e,t){t&&S(this,"message",t);var n=S(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function v(e){var n,r=S(this,"object"),i=!0,o="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(t.type(e)){case"array":if(arguments.length>1)throw new Error(o);break;case"object":if(arguments.length>1)throw new Error(o);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}if(!e.length)throw new Error("keys required");var s=Object.keys(r),a=e,u=e.length,c=S(this,"any"),l=S(this,"all");if(c||l||(l=!0),c){var f=a.filter(function(e){return~s.indexOf(e)});i=f.length>0}if(l&&(i=e.every(function(e){return~s.indexOf(e)}),S(this,"negate")||S(this,"contains")||(i=i&&e.length==s.length)),u>1){e=e.map(function(e){return t.inspect(e)});var h=e.pop();l&&(n=e.join(", ")+", and "+h),c&&(n=e.join(", ")+", or "+h)}else n=t.inspect(e[0]);n=(u>1?"keys ":"key ")+n,n=(S(this,"contains")?"contain ":"have ")+n,this.assert(i,"expected #{this} to "+n,"expected #{this} to not "+n,a.slice(0).sort(),s.sort(),!0)}function y(e,n,r){r&&S(this,"message",r);var i=S(this,"object");new O(i,r).is.a("function");var o=!1,s=null,a=null,u=null;0===arguments.length?(n=null,e=null):e&&(e instanceof RegExp||"string"==typeof e)?(n=e,e=null):e&&e instanceof Error?(s=e,e=null,n=null):"function"==typeof e?(a=e.prototype.name||e.name,"Error"===a&&e!==Error&&(a=(new e).name)):e=null;try{i()}catch(c){if(s)return this.assert(c===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,c instanceof Error?c.toString():c),S(this,"object",c),this;if(e&&(this.assert(c instanceof e,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,c instanceof Error?c.toString():c),!n))return S(this,"object",c),this;var l="error"===t.type(c)&&"message"in c?c.message:""+c;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),S(this,"object",c),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),S(this,"object",c),this;o=!0,u=c}var f="",h=null!==a?a:s?"#{exp}":"an error";o&&(f=" but #{act} was thrown"),this.assert(o===!0,"expected #{this} to throw "+h+f,"expected #{this} to not throw "+h+f,s instanceof Error?s.toString():s,u instanceof Error?u.toString():u),S(this,"object",u)}function w(e,n){n&&S(this,"message",n);var r=S(this,"object"),i=S(this,"itself"),o="function"!==t.type(r)||i?r[e]:r.prototype[e];this.assert("function"==typeof o,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))}function x(e,n){n&&S(this,"message",n);var r=S(this,"object"),i=e(r);this.assert(i,"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),this.negate?!1:!0,i)}function E(e,t,n){return e.every(function(e){return n?t.some(function(t){return n(e,t)}):-1!==t.indexOf(e)})}function j(e,t,n){n&&S(this,"message",n);var r=S(this,"object");new O(e,n).to.have.property(t),new O(r).is.a("function");var i=e[t];r(),this.assert(i!==e[t],"expected ."+t+" to change","expected ."+t+" to not change")}function k(e,t,n){n&&S(this,"message",n);var r=S(this,"object");new O(e,n).to.have.property(t),new O(r).is.a("function");var i=e[t];r(),this.assert(e[t]-i>0,"expected ."+t+" to increase","expected ."+t+" to not increase")}function T(e,t,n){n&&S(this,"message",n);var r=S(this,"object");new O(e,n).to.have.property(t),new O(r).is.a("function");var i=e[t];r(),this.assert(e[t]-i<0,"expected ."+t+" to decrease","expected ."+t+" to not decrease")}var O=e.Assertion,S=(Object.prototype.toString,t.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(e){O.addProperty(e,function(){return this})}),O.addProperty("not",function(){S(this,"negate",!0)}),O.addProperty("deep",function(){S(this,"deep",!0)}),O.addProperty("any",function(){S(this,"any",!0),S(this,"all",!1)}),O.addProperty("all",function(){S(this,"all",!0),S(this,"any",!1)}),O.addChainableMethod("an",n),O.addChainableMethod("a",n),O.addChainableMethod("include",i,r),O.addChainableMethod("contain",i,r),O.addChainableMethod("contains",i,r),O.addChainableMethod("includes",i,r),O.addProperty("ok",function(){this.assert(S(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),O.addProperty("true",function(){this.assert(!0===S(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),O.addProperty("false",function(){this.assert(!1===S(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),O.addProperty("null",function(){this.assert(null===S(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),O.addProperty("undefined",function(){this.assert(void 0===S(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),O.addProperty("NaN",function(){this.assert(isNaN(S(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),O.addProperty("exist",function(){this.assert(null!=S(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),O.addProperty("empty",function(){var e=S(this,"object"),t=e;Array.isArray(e)||"string"==typeof object?t=e.length:"object"==typeof e&&(t=Object.keys(e).length),this.assert(!t,"expected #{this} to be empty","expected #{this} not to be empty")}),O.addProperty("arguments",o),O.addProperty("Arguments",o),O.addMethod("equal",s),O.addMethod("equals",s),O.addMethod("eq",s),O.addMethod("eql",a),O.addMethod("eqls",a),O.addMethod("above",u),O.addMethod("gt",u),O.addMethod("greaterThan",u),O.addMethod("least",c),O.addMethod("gte",c),O.addMethod("below",l),O.addMethod("lt",l),O.addMethod("lessThan",l),O.addMethod("most",f),O.addMethod("lte",f),O.addMethod("within",function(e,t,n){n&&S(this,"message",n);var r=S(this,"object"),i=e+".."+t;if(S(this,"doLength")){new O(r,n).to.have.property("length");var o=r.length;this.assert(o>=e&&t>=o,"expected #{this} to have a length within "+i,"expected #{this} to not have a length within "+i)}else this.assert(r>=e&&t>=r,"expected #{this} to be within "+i,"expected #{this} to not be within "+i)}),O.addMethod("instanceof",h),O.addMethod("instanceOf",h),O.addMethod("property",function(e,n,r){r&&S(this,"message",r);var i=!!S(this,"deep"),o=i?"deep property ":"property ",s=S(this,"negate"),a=S(this,"object"),u=i?t.getPathInfo(e,a):null,c=i?u.exists:t.hasProperty(e,a),l=i?u.value:a[e];if(s&&arguments.length>1){if(void 0===l)throw r=null!=r?r+": ":"",new Error(r+t.inspect(a)+" has no "+o+t.inspect(e))}else this.assert(c,"expected #{this} to have a "+o+t.inspect(e),"expected #{this} to not have "+o+t.inspect(e));arguments.length>1&&this.assert(n===l,"expected #{this} to have a "+o+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have a "+o+t.inspect(e)+" of #{act}",n,l),S(this,"object",l)}),O.addMethod("ownProperty",p),O.addMethod("haveOwnProperty",p),O.addMethod("ownPropertyDescriptor",d),O.addMethod("haveOwnPropertyDescriptor",d),O.addChainableMethod("length",m,g),O.addMethod("lengthOf",m),O.addMethod("match",b),O.addMethod("matches",b),O.addMethod("string",function(e,n){n&&S(this,"message",n);var r=S(this,"object");new O(r,n).is.a("string"),this.assert(~r.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))}),O.addMethod("keys",v),O.addMethod("key",v),O.addMethod("throw",y),O.addMethod("throws",y),O.addMethod("Throw",y),O.addMethod("respondTo",w),O.addMethod("respondsTo",w),O.addProperty("itself",function(){S(this,"itself",!0)}),O.addMethod("satisfy",x),O.addMethod("satisfies",x),O.addMethod("closeTo",function(e,n,r){r&&S(this,"message",r);var i=S(this,"object");if(new O(i,r).is.a("number"),"number"!==t.type(e)||"number"!==t.type(n))throw new Error("the arguments to closeTo must be numbers");this.assert(Math.abs(i-e)<=n,"expected #{this} to be close to "+e+" +/- "+n,"expected #{this} not to be close to "+e+" +/- "+n)}),O.addMethod("members",function(e,n){n&&S(this,"message",n);var r=S(this,"object");new O(r).to.be.an("array"),new O(e).to.be.an("array");var i=S(this,"deep")?t.eql:void 0;return S(this,"contains")?this.assert(E(e,r,i),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",r,e):void this.assert(E(r,e,i)&&E(e,r,i),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",r,e)}),O.addChainableMethod("change",j),O.addChainableMethod("changes",j),O.addChainableMethod("increase",k),O.addChainableMethod("increases",k),O.addChainableMethod("decrease",T),O.addChainableMethod("decreases",T),O.addProperty("extensible",function(){var e=S(this,"object");this.assert(Object.isExtensible(e),"expected #{this} to be extensible","expected #{this} to not be extensible")}),O.addProperty("sealed",function(){var e=S(this,"object");this.assert(Object.isSealed(e),"expected #{this} to be sealed","expected #{this} to not be sealed")}),O.addProperty("frozen",function(){var e=S(this,"object");this.assert(Object.isFrozen(e),"expected #{this} to be frozen","expected #{this} to not be frozen")})},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/interface/expect",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t){e.expect=function(t,n){return new e.Assertion(t,n)},e.expect.fail=function(t,n,r,i){throw r=r||"expect.fail()",new e.AssertionError(r,{actual:t,expected:n,operator:i},e.expect.fail)}},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/interface/should",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t){function n(){function t(){return this instanceof String||this instanceof Number||this instanceof Boolean?new r(this.valueOf(),null,t):new r(this,null,t)}function n(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:n,get:t,configurable:!0});var i={};return i.fail=function(t,n,r,o){throw r=r||"should.fail()",new e.AssertionError(r,{actual:t,expected:n,operator:o},i.fail)},i.equal=function(e,t,n){new r(e,n).to.equal(t)},i.Throw=function(e,t,n,i){new r(e,i).to.Throw(t,n)},i.exist=function(e,t){new r(e,t).to.exist},i.not={},i.not.equal=function(e,t,n){new r(e,n).to.not.equal(t)},i.not.Throw=function(e,t,n,i){new r(e,i).to.not.Throw(t,n)},i.not.exist=function(e,t){new r(e,t).to.not.exist},i["throw"]=i.Throw,i.not["throw"]=i.not.Throw,i}var r=e.Assertion;e.should=n,e.Should=n},r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/interface/assert",[],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=function(e,t){var n=e.Assertion,r=t.flag,i=e.assert=function(t,r){var i=new n(null,null,e.assert);i.assert(t,r,"[ negation message unavailable ]")};i.fail=function(t,n,r,o){throw r=r||"assert.fail()",new e.AssertionError(r,{actual:t,expected:n,operator:o},i.fail)},i.isOk=function(e,t){new n(e,t).is.ok},i.isNotOk=function(e,t){new n(e,t).is.not.ok},i.equal=function(e,t,o){var s=new n(e,o,i.equal);s.assert(t==r(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e);
},i.notEqual=function(e,t,o){var s=new n(e,o,i.notEqual);s.assert(t!=r(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e)},i.strictEqual=function(e,t,r){new n(e,r).to.equal(t)},i.notStrictEqual=function(e,t,r){new n(e,r).to.not.equal(t)},i.deepEqual=function(e,t,r){new n(e,r).to.eql(t)},i.notDeepEqual=function(e,t,r){new n(e,r).to.not.eql(t)},i.isAbove=function(e,t,r){new n(e,r).to.be.above(t)},i.isBelow=function(e,t,r){new n(e,r).to.be.below(t)},i.isTrue=function(e,t){new n(e,t).is["true"]},i.isFalse=function(e,t){new n(e,t).is["false"]},i.isNull=function(e,t){new n(e,t).to.equal(null)},i.isNotNull=function(e,t){new n(e,t).to.not.equal(null)},i.isNaN=function(e,t){new n(e,t).to.be.NaN},i.isNotNaN=function(e,t){new n(e,t).not.to.be.NaN},i.isUndefined=function(e,t){new n(e,t).to.equal(void 0)},i.isDefined=function(e,t){new n(e,t).to.not.equal(void 0)},i.isFunction=function(e,t){new n(e,t).to.be.a("function")},i.isNotFunction=function(e,t){new n(e,t).to.not.be.a("function")},i.isObject=function(e,t){new n(e,t).to.be.a("object")},i.isNotObject=function(e,t){new n(e,t).to.not.be.a("object")},i.isArray=function(e,t){new n(e,t).to.be.an("array")},i.isNotArray=function(e,t){new n(e,t).to.not.be.an("array")},i.isString=function(e,t){new n(e,t).to.be.a("string")},i.isNotString=function(e,t){new n(e,t).to.not.be.a("string")},i.isNumber=function(e,t){new n(e,t).to.be.a("number")},i.isNotNumber=function(e,t){new n(e,t).to.not.be.a("number")},i.isBoolean=function(e,t){new n(e,t).to.be.a("boolean")},i.isNotBoolean=function(e,t){new n(e,t).to.not.be.a("boolean")},i.typeOf=function(e,t,r){new n(e,r).to.be.a(t)},i.notTypeOf=function(e,t,r){new n(e,r).to.not.be.a(t)},i.instanceOf=function(e,t,r){new n(e,r).to.be.instanceOf(t)},i.notInstanceOf=function(e,t,r){new n(e,r).to.not.be.instanceOf(t)},i.include=function(e,t,r){new n(e,r,i.include).include(t)},i.notInclude=function(e,t,r){new n(e,r,i.notInclude).not.include(t)},i.match=function(e,t,r){new n(e,r).to.match(t)},i.notMatch=function(e,t,r){new n(e,r).to.not.match(t)},i.property=function(e,t,r){new n(e,r).to.have.property(t)},i.notProperty=function(e,t,r){new n(e,r).to.not.have.property(t)},i.deepProperty=function(e,t,r){new n(e,r).to.have.deep.property(t)},i.notDeepProperty=function(e,t,r){new n(e,r).to.not.have.deep.property(t)},i.propertyVal=function(e,t,r,i){new n(e,i).to.have.property(t,r)},i.propertyNotVal=function(e,t,r,i){new n(e,i).to.not.have.property(t,r)},i.deepPropertyVal=function(e,t,r,i){new n(e,i).to.have.deep.property(t,r)},i.deepPropertyNotVal=function(e,t,r,i){new n(e,i).to.not.have.deep.property(t,r)},i.lengthOf=function(e,t,r){new n(e,r).to.have.length(t)},i["throws"]=function(e,t,i,o){("string"==typeof t||t instanceof RegExp)&&(i=t,t=null);var s=new n(e,o).to["throw"](t,i);return r(s,"object")},i.doesNotThrow=function(e,t,r){"string"==typeof t&&(r=t,t=null),new n(e,r).to.not.Throw(t)},i.operator=function(e,i,o,s){var a;switch(i){case"==":a=e==o;break;case"===":a=e===o;break;case">":a=e>o;break;case">=":a=e>=o;break;case"<":a=o>e;break;case"<=":a=o>=e;break;case"!=":a=e!=o;break;case"!==":a=e!==o;break;default:throw new Error('Invalid operator "'+i+'"')}var u=new n(a,s);u.assert(!0===r(u,"object"),"expected "+t.inspect(e)+" to be "+i+" "+t.inspect(o),"expected "+t.inspect(e)+" to not be "+i+" "+t.inspect(o))},i.closeTo=function(e,t,r,i){new n(e,i).to.be.closeTo(t,r)},i.sameMembers=function(e,t,r){new n(e,r).to.have.same.members(t)},i.sameDeepMembers=function(e,t,r){new n(e,r).to.have.same.deep.members(t)},i.includeMembers=function(e,t,r){new n(e,r).to.include.members(t)},i.changes=function(e,t,r){new n(e).to.change(t,r)},i.doesNotChange=function(e,t,r){new n(e).to.not.change(t,r)},i.increases=function(e,t,r){new n(e).to.increase(t,r)},i.doesNotIncrease=function(e,t,r){new n(e).to.not.increase(t,r)},i.decreases=function(e,t,r){new n(e).to.decrease(t,r)},i.doesNotDecrease=function(e,t,r){new n(e).to.not.decrease(t,r)},i.ifError=function(e){if(e)throw e},i.isExtensible=function(e,t){new n(e,t).to.be.extensible},i.isNotExtensible=function(e,t){new n(e,t).to.not.be.extensible},i.isSealed=function(e,t){new n(e,t).to.be.sealed},i.isNotSealed=function(e,t){new n(e,t).to.not.be.sealed},i.isFrozen=function(e,t){new n(e,t).to.be.frozen},i.isNotFrozen=function(e,t){new n(e,t).to.not.be.frozen},function o(e,t){return i[t]=i[e],o}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")},r.define=i,n.exports}),e.register("npm:assertion-error@1.0.1",["npm:assertion-error@1.0.1/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:assertion-error@1.0.1/index"),r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/test",["npm:chai@3.2.0/lib/chai/utils/flag"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=require("npm:chai@3.2.0/lib/chai/utils/flag");return n.exports=function(e,t){var n=o(e,"negate"),r=t[0];return n?!r:r},r.define=i,n.exports}),e.register("npm:type-detect@1.0.0/index",["npm:type-detect@1.0.0/lib/type"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:type-detect@1.0.0/lib/type"),r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/inspect",["npm:chai@3.2.0/lib/chai/utils/getName","npm:chai@3.2.0/lib/chai/utils/getProperties","npm:chai@3.2.0/lib/chai/utils/getEnumerableProperties"],!0,function(require,t,n){function r(e,t,n,r){var o={showHidden:t,seen:[],stylize:function(e){return e}};return i(o,e,"undefined"==typeof n?2:n)}function i(e,n,r){if(n&&"function"==typeof n.inspect&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var d=n.inspect(r);return"string"!=typeof d&&(d=i(e,d,r)),d}var g=o(e,n);if(g)return g;if(w(n)){if("outerHTML"in n)return n.outerHTML;try{if(document.xmlVersion){var m=new XMLSerializer;return m.serializeToString(n)}var x="http://www.w3.org/1999/xhtml",E=document.createElementNS(x,"_");return E.appendChild(n.cloneNode(!1)),html=E.innerHTML.replace("><",">"+n.innerHTML+"<"),E.innerHTML="",html}catch(j){}}var k=y(n),T=e.showHidden?v(n):k;if(0===T.length||p(n)&&(1===T.length&&"stack"===T[0]||2===T.length&&"description"===T[0]&&"stack"===T[1])){if("function"==typeof n){var O=b(n),S=O?": "+O:"";return e.stylize("[Function"+S+"]","special")}if(f(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(h(n))return e.stylize(Date.prototype.toUTCString.call(n),"date");if(p(n))return s(n)}var _="",A=!1,P=["{","}"];if(l(n)&&(A=!0,P=["[","]"]),"function"==typeof n){var O=b(n),S=O?": "+O:"";_=" [Function"+S+"]"}if(f(n)&&(_=" "+RegExp.prototype.toString.call(n)),h(n)&&(_=" "+Date.prototype.toUTCString.call(n)),p(n))return s(n);if(0===T.length&&(!A||0==n.length))return P[0]+_+P[1];if(0>r)return f(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var M;return M=A?a(e,n,r,k,T):T.map(function(t){return u(e,n,r,k,t,A)}),e.seen.pop(),c(M,_,P)}function o(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string");case"number":return 0===t&&1/t===-(1/0)?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean")}return null===t?e.stylize("null","null"):void 0}function s(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,n,r,i){for(var o=[],s=0,a=t.length;a>s;++s)Object.prototype.hasOwnProperty.call(t,String(s))?o.push(u(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(u(e,t,n,r,i,!0))}),o}function u(e,t,n,r,o,s){var a,u;if(t.__lookupGetter__&&(t.__lookupGetter__(o)?u=t.__lookupSetter__(o)?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.__lookupSetter__(o)&&(u=e.stylize("[Setter]","special"))),r.indexOf(o)<0&&(a="["+o+"]"),u||(e.seen.indexOf(t[o])<0?(u=null===n?i(e,t[o],null):i(e,t[o],n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function c(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function l(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===d(e)}function f(e){return"object"==typeof e&&"[object RegExp]"===d(e)}function h(e){return"object"==typeof e&&"[object Date]"===d(e)}function p(e){return"object"==typeof e&&"[object Error]"===d(e)}function d(e){return Object.prototype.toString.call(e)}var g=e.global,m=g.define;g.define=void 0;var b=require("npm:chai@3.2.0/lib/chai/utils/getName"),v=require("npm:chai@3.2.0/lib/chai/utils/getProperties"),y=require("npm:chai@3.2.0/lib/chai/utils/getEnumerableProperties");n.exports=r;var w=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName};return g.define=m,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/objDisplay",["npm:chai@3.2.0/lib/chai/utils/inspect","npm:chai@3.2.0/lib/chai/config"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=require("npm:chai@3.2.0/lib/chai/utils/inspect"),s=require("npm:chai@3.2.0/lib/chai/config");return n.exports=function(e){var t=o(e),n=Object.prototype.toString.call(e);if(s.truncateThreshold&&t.length>=s.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){var r=Object.keys(e),i=r.length>2?r.splice(0,2).join(", ")+", ...":r.join(", ");return"{ Object ("+i+") }"}return t}return t},r.define=i,n.exports}),e.register("npm:type-detect@0.1.1/index",["npm:type-detect@0.1.1/lib/type"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:type-detect@0.1.1/lib/type"),r.define=i,n.exports}),e.register("npm:base64-js@0.0.8",["npm:base64-js@0.0.8/lib/b64"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:base64-js@0.0.8/lib/b64"),r.define=i,n.exports}),e.register("npm:ieee754@1.1.6",["npm:ieee754@1.1.6/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:ieee754@1.1.6/index"),r.define=i,n.exports}),e.register("npm:is-array@1.0.1",["npm:is-array@1.0.1/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:is-array@1.0.1/index"),r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/getPathInfo",["npm:chai@3.2.0/lib/chai/utils/hasProperty"],!0,function(require,t,n){function r(e){var t=e.replace(/([^\\])\[/g,"$1.["),n=t.match(/(\\\.|[^.]+?)+/g);return n.map(function(e){var t=/^\[(\d+)\]$/,n=t.exec(e);return n?{i:parseFloat(n[1])}:{p:e.replace(/\\([.\[\]])/g,"$1")}})}function i(e,t,n){var r,i=t;n=void 0===n?e.length:n;for(var o=0,s=n;s>o;o++){var a=e[o];i?("undefined"!=typeof a.p?i=i[a.p]:"undefined"!=typeof a.i&&(i=i[a.i]),o==s-1&&(r=i)):r=void 0}return r}var o=e.global,s=o.define;o.define=void 0;var a=require("npm:chai@3.2.0/lib/chai/utils/hasProperty");return n.exports=function(e,t){var n=r(e),o=n[n.length-1],s={parent:n.length>1?i(n,t,n.length-1):t,name:o.p||o.i,value:i(n,t)};return s.exists=a(s.name,s.parent),s},o.define=s,n.exports}),e.register("npm:mocha@2.2.5/mocha",["npm:mocha@2.2.5/mocha.css!github:systemjs/plugin-css@0.1.13"],!1,function(t,n,r){return e.get("@@global-helpers").prepareGlobal(r.id,["npm:mocha@2.2.5/mocha.css!github:systemjs/plugin-css@0.1.13"]),function(){"format global";"deps ./mocha.css!";"exports mocha";!function(){function require(e){var t=require.resolve(e),n=require.modules[t];if(!n)throw new Error('failed to require "'+e+'"');return n.exports||(n.exports={},n.call(n.exports,n,n.exports,require.relative(t))),n.exports}function e(){for(var t=(new n).getTime();l.length&&(new n).getTime()-t<100;)l.shift()();c=l.length?r(e,0):null}require.modules={},require.resolve=function(e){var t=e,n=e+".js",r=e+"/index.js";return require.modules[n]&&n||require.modules[r]&&r||t},require.register=function(e,t){require.modules[e]=t},require.relative=function(e){return function(t){if("."!=t.charAt(0))return require(t);var n=e.split("/"),r=t.split("/");n.pop();for(var i=0;i<r.length;i++){var o=r[i];".."==o?n.pop():"."!=o&&n.push(o)}return require(n.join("/"))}},require.register("browser/debug.js",function(e,t,require){e.exports=function(e){return function(){}}}),require.register("browser/diff.js",function(e,t,require){var n=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function n(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var r=function(e){this.ignoreWhitespace=e};r.prototype={diff:function(t,n){if(n===t)return[{value:n}];if(!n)return[{value:t,removed:!0}];if(!t)return[{value:n,added:!0}];n=this.tokenize(n),t=this.tokenize(t);var r=n.length,i=t.length,o=r+i,s=[{newPos:-1,components:[]}],a=this.extractCommon(s[0],n,t,0);if(s[0].newPos+1>=r&&a+1>=i)return s[0].components;for(var u=1;o>=u;u++)for(var c=-1*u;u>=c;c+=2){var l,f=s[c-1],h=s[c+1];a=(h?h.newPos:0)-c,f&&(s[c-1]=void 0);var p=f&&f.newPos+1<r,d=h&&a>=0&&i>a;if(p||d){!p||d&&f.newPos<h.newPos?(l=e(h),this.pushComponent(l.components,t[a],void 0,!0)):(l=e(f),l.newPos++,this.pushComponent(l.components,n[l.newPos],!0,void 0));var a=this.extractCommon(l,n,t,c);if(l.newPos+1>=r&&a+1>=i)return l.components;s[c]=l}else s[c]=void 0}},pushComponent:function(e,t,n,r){var i=e[e.length-1];i&&i.added===n&&i.removed===r?e[e.length-1]={value:this.join(i.value,t),added:n,removed:r}:e.push({value:t,added:n,removed:r})},extractCommon:function(e,t,n,r){for(var i=t.length,o=n.length,s=e.newPos,a=s-r;i>s+1&&o>a+1&&this.equals(t[s+1],n[a+1]);)s++,a++,this.pushComponent(e.components,t[s],void 0,void 0);return e.newPos=s,a},equals:function(e,t){var n=/\S/;return!this.ignoreWhitespace||n.test(e)||n.test(t)?e===t:!0},join:function(e,t){return e+t},tokenize:function(e){return e}};var i=new r,o=new r(!0),s=new r;o.tokenize=s.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var a=new r(!0);a.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var u=new r;return u.tokenize=function(e){for(var t=[],n=e.split(/^/m),r=0;r<n.length;r++){var i=n[r],o=n[r-1];"\n"==i&&o&&"\r"===o[o.length-1]?t[t.length-1]+="\n":i&&t.push(i)}return t},{Diff:r,diffChars:function(e,t){return i.diff(e,t)},diffWords:function(e,t){return o.diff(e,t)},diffWordsWithSpace:function(e,t){return s.diff(e,t)},diffLines:function(e,t){return u.diff(e,t)},diffCss:function(e,t){return a.diff(e,t)},createPatch:function(e,t,n,r,i){function o(e){return e.map(function(e){return" "+e})}function s(e,t,n){var r=c[c.length-2],i=t===c.length-2,o=t===c.length-3&&(n.added!==r.added||n.removed!==r.removed);/\n$/.test(n.value)||!i&&!o||e.push("\\ No newline at end of file")}var a=[];a.push("Index: "+e),a.push("==================================================================="),a.push("--- "+e+("undefined"==typeof r?"":"	"+r)),a.push("+++ "+e+("undefined"==typeof i?"":"	"+i));var c=u.diff(t,n);c[c.length-1].value||c.pop(),c.push({value:"",lines:[]});for(var l=0,f=0,h=[],p=1,d=1,g=0;g<c.length;g++){var m=c[g],b=m.lines||m.value.replace(/\n$/,"").split("\n");if(m.lines=b,m.added||m.removed){if(!l){var v=c[g-1];l=p,f=d,v&&(h=o(v.lines.slice(-4)),l-=h.length,f-=h.length)}h.push.apply(h,b.map(function(e){return(m.added?"+":"-")+e})),s(h,g,m),m.added?d+=b.length:p+=b.length}else{if(l)if(b.length<=8&&g<c.length-2)h.push.apply(h,o(b));else{var y=Math.min(b.length,4);a.push("@@ -"+l+","+(p-l+y)+" +"+f+","+(d-f+y)+" @@"),a.push.apply(a,h),a.push.apply(a,o(b.slice(0,y))),b.length<=4&&s(a,g,m),l=0,f=0,h=[]}p+=b.length,d+=b.length}}return a.join("\n")+"\n"},applyPatch:function(e,t){for(var n=t.split("\n"),r=[],i=!1,o=!1,s="I"===n[0][0]?4:0;s<n.length;s++)if("@"===n[s][0]){var a=n[s].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:a[3],oldlength:a[2],oldlines:[],newlength:a[4],newlines:[]})}else"+"===n[s][0]?r[0].newlines.push(n[s].substr(1)):"-"===n[s][0]?r[0].oldlines.push(n[s].substr(1)):" "===n[s][0]?(r[0].newlines.push(n[s].substr(1)),r[0].oldlines.push(n[s].substr(1))):"\\"===n[s][0]&&("+"===n[s-1][0]?i=!0:"-"===n[s-1][0]&&(o=!0));for(var u=e.split("\n"),s=r.length-1;s>=0;s--){for(var c=r[s],l=0;l<c.oldlength;l++)if(u[c.start-1+l]!==c.oldlines[l])return!1;Array.prototype.splice.apply(u,[c.start-1,+c.oldlength].concat(c.newlines))}if(i)for(;!u[u.length-1];)u.pop();else o&&u.push("");return u.join("\n")},convertChangesToXML:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push(n(i.value)),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push([t.added?1:t.removed?-1:0,t.value]);return n}}}();"undefined"!=typeof e&&(e.exports=n)}),require.register("browser/escape-string-regexp.js",function(e,t,require){"use strict";var n=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(n,"\\$&")}}),require.register("browser/events.js",function(e,t,require){function n(e){return"[object Array]"=={}.toString.call(e)}function r(){}t.EventEmitter=r,r.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?n(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},r.prototype.addListener=r.prototype.on,r.prototype.once=function(e,t){function n(){r.removeListener(e,n),t.apply(this,arguments)}var r=this;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var r=this.$events[e];if(n(r)){for(var i=-1,o=0,s=r.length;s>o;o++)if(r[o]===t||r[o].listener&&r[o].listener===t){i=o;break}if(0>i)return this;r.splice(i,1),r.length||delete this.$events[e]}else(r===t||r.listener&&r.listener===t)&&delete this.$events[e]}return this},r.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},r.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),n(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},r.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var r=[].slice.call(arguments,1);if("function"==typeof t)t.apply(this,r);else{if(!n(t))return!1;for(var i=t.slice(),o=0,s=i.length;s>o;o++)i[o].apply(this,r)}return!0}}),require.register("browser/fs.js",function(e,t,require){}),require.register("browser/glob.js",function(e,t,require){}),require.register("browser/path.js",function(e,t,require){}),require.register("browser/progress.js",function(e,t,require){function n(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}e.exports=n,n.prototype.size=function(e){return this._size=e,this},n.prototype.text=function(e){return this._text=e,this},n.prototype.fontSize=function(e){return this._fontSize=e,this},n.prototype.font=function(e){return this._font=e,this},n.prototype.update=function(e){return this.percent=e,this},n.prototype.draw=function(e){try{var t=Math.min(this.percent,100),n=this._size,r=n/2,i=r,o=r,s=r-1,a=this._fontSize;e.font=a+"px "+this._font;var u=2*Math.PI*(t/100);e.clearRect(0,0,n,n),e.strokeStyle="#9f9f9f",e.beginPath(),e.arc(i,o,s,0,u,!1),e.stroke(),e.strokeStyle="#eee",e.beginPath(),e.arc(i,o,s-1,0,u,!0),e.stroke();var c=this._text||(0|t)+"%",l=e.measureText(c).width;e.fillText(c,i-l/2+1,o+a/2-1)}catch(f){}return this}}),require.register("browser/tty.js",function(e,n,require){n.isatty=function(){return!0},n.getWindowSize=function(){return"innerHeight"in t?[t.innerHeight,t.innerWidth]:[640,480]}}),require.register("context.js",function(e,t,require){function n(){}e.exports=n,n.prototype.runnable=function(e){return 0==arguments.length?this._runnable:(this.test=this._runnable=e,this)},n.prototype.timeout=function(e){return 0===arguments.length?this.runnable().timeout():(this.runnable().timeout(e),this)},n.prototype.enableTimeouts=function(e){return this.runnable().enableTimeouts(e),this},n.prototype.slow=function(e){return this.runnable().slow(e),this},n.prototype.skip=function(){return this.runnable().skip(),this},n.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_runnable"!=e&&"test"!=e?t:void 0},2)}}),require.register("hook.js",function(e,t,require){function n(e,t){i.call(this,e,t),this.type="hook"}function r(){}var i=require("./runnable");e.exports=n,r.prototype=i.prototype,n.prototype=new r,n.prototype.constructor=n,n.prototype.error=function(e){if(0==arguments.length){var e=this._error;return this._error=null,e}this._error=e}}),require.register("interfaces/bdd.js",function(e,t,require){var n=require("../suite"),r=require("../test"),i=(require("../utils"),require("browser/escape-string-regexp"));e.exports=function(e){var t=[e];e.on("pre-require",function(o,s,a){var u=require("./common")(t,o);o.before=u.before,o.after=u.after,o.beforeEach=u.beforeEach,o.afterEach=u.afterEach,o.run=a.options.delay&&u.runWithSuite(e),o.describe=o.context=function(e,r){var i=n.create(t[0],e);return i.file=s,t.unshift(i),r.call(i),t.shift(),i},o.xdescribe=o.xcontext=o.describe.skip=function(e,r){var i=n.create(t[0],e);i.pending=!0,t.unshift(i),r.call(i),t.shift()},o.describe.only=function(e,t){var n=o.describe(e,t);return a.grep(n.fullTitle()),n},o.it=o.specify=function(e,n){var i=t[0];i.pending&&(n=null);var o=new r(e,n);return o.file=s,i.addTest(o),o},o.it.only=function(e,t){var n=o.it(e,t),r="^"+i(n.fullTitle())+"$";return a.grep(new RegExp(r)),n},o.xit=o.xspecify=o.it.skip=function(e){o.it(e)}})}}),require.register("interfaces/common.js",function(e,t,require){"use strict";e.exports=function(e,t){return{runWithSuite:function(e){return function(){e.run()}},before:function(t,n){e[0].beforeAll(t,n)},after:function(t,n){e[0].afterAll(t,n)},beforeEach:function(t,n){e[0].beforeEach(t,n)},afterEach:function(t,n){e[0].afterEach(t,n)},test:{skip:function(e){t.test(e)}}}}}),require.register("interfaces/exports.js",function(e,t,require){var n=require("../suite"),r=require("../test");e.exports=function(e){function t(e,o){var s;for(var a in e)if("function"==typeof e[a]){var u=e[a];switch(a){case"before":i[0].beforeAll(u);break;case"after":i[0].afterAll(u);break;case"beforeEach":i[0].beforeEach(u);break;case"afterEach":i[0].afterEach(u);break;default:var c=new r(a,u);c.file=o,i[0].addTest(c)}}else s=n.create(i[0],a),i.unshift(s),t(e[a]),i.shift()}var i=[e];e.on("require",t)}}),require.register("interfaces/index.js",function(e,t,require){t.bdd=require("./bdd"),t.tdd=require("./tdd"),t.qunit=require("./qunit"),t.exports=require("./exports")}),require.register("interfaces/qunit.js",function(e,t,require){var n=require("../suite"),r=require("../test"),i=require("browser/escape-string-regexp");require("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(o,s,a){var u=require("./common")(t,o);o.before=u.before,o.after=u.after,o.beforeEach=u.beforeEach,o.afterEach=u.afterEach,o.run=a.options.delay&&u.runWithSuite(e),o.suite=function(e){t.length>1&&t.shift();var r=n.create(t[0],e);return r.file=s,t.unshift(r),r},o.suite.only=function(e,t){var n=o.suite(e,t);a.grep(n.fullTitle())},o.test=function(e,n){var i=new r(e,n);return i.file=s,t[0].addTest(i),i},o.test.only=function(e,t){var n=o.test(e,t),r="^"+i(n.fullTitle())+"$";a.grep(new RegExp(r))},o.test.skip=u.test.skip})}}),require.register("interfaces/tdd.js",function(e,t,require){var n=require("../suite"),r=require("../test"),i=require("browser/escape-string-regexp");require("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(o,s,a){var u=require("./common")(t,o);o.setup=u.beforeEach,o.teardown=u.afterEach,o.suiteSetup=u.before,o.suiteTeardown=u.after,o.run=a.options.delay&&u.runWithSuite(e),o.suite=function(e,r){var i=n.create(t[0],e);return i.file=s,t.unshift(i),r.call(i),t.shift(),i},o.suite.skip=function(e,r){var i=n.create(t[0],e);i.pending=!0,t.unshift(i),r.call(i),t.shift()},o.suite.only=function(e,t){var n=o.suite(e,t);a.grep(n.fullTitle())},o.test=function(e,n){var i=t[0];i.pending&&(n=null);var o=new r(e,n);return o.file=s,i.addTest(o),o},o.test.only=function(e,t){var n=o.test(e,t),r="^"+i(n.fullTitle())+"$";a.grep(new RegExp(r))},o.test.skip=u.test.skip})}}),require.register("mocha.js",function(e,n,require){function r(e){return __dirname+"/../images/"+e+".png"}function o(e){e=e||{},this.files=[],this.options=e,e.grep&&this.grep(new RegExp(e.grep)),e.fgrep&&this.grep(e.fgrep),this.suite=new n.Suite("",new n.Context),this.ui(e.ui),this.bail(e.bail),this.reporter(e.reporter,e.reporterOptions),null!=e.timeout&&this.timeout(e.timeout),this.useColors(e.useColors),null!==e.enableTimeouts&&this.enableTimeouts(e.enableTimeouts),e.slow&&this.slow(e.slow),this.suite.on("pre-require",function(e){n.afterEach=e.afterEach||e.teardown,n.after=e.after||e.suiteTeardown,n.beforeEach=e.beforeEach||e.setup,n.before=e.before||e.suiteSetup,n.describe=e.describe||e.suite,n.it=e.it||e.test,n.setup=e.setup||e.beforeEach,n.suiteSetup=e.suiteSetup||e.before,n.suiteTeardown=e.suiteTeardown||e.after,n.suite=e.suite||e.describe,n.teardown=e.teardown||e.afterEach,n.test=e.test||e.it,n.run=e.run})}var s=require("browser/path"),a=require("browser/escape-string-regexp"),u=require("./utils");if(n=e.exports=o,"undefined"!=typeof i&&"function"==typeof i.cwd){var c=s.join,l=i.cwd();e.paths.push(l,c(l,"node_modules"))}n.utils=u,n.interfaces=require("./interfaces"),n.reporters=require("./reporters"),n.Runnable=require("./runnable"),n.Context=require("./context"),n.Runner=require("./runner"),n.Suite=require("./suite"),n.Hook=require("./hook"),n.Test=require("./test"),o.prototype.bail=function(e){return 0==arguments.length&&(e=!0),this.suite.bail(e),this},o.prototype.addFile=function(e){return this.files.push(e),this},o.prototype.reporter=function(e,t){if("function"==typeof e)this._reporter=e;else{e=e||"spec";var n;try{n=require("./reporters/"+e)}catch(r){}if(!n)try{n=require(e)}catch(r){-1!==r.message.indexOf("Cannot find module")?console.warn('"'+e+'" reporter not found'):console.warn('"'+e+'" reporter blew up with error:\n'+r.stack)}if(n||"teamcity"!==e||console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter)."),!n)throw new Error('invalid reporter "'+e+'"');this._reporter=n}return this.options.reporterOptions=t,this},o.prototype.ui=function(e){if(e=e||"bdd",this._ui=n.interfaces[e],!this._ui)try{this._ui=require(e)}catch(t){}if(!this._ui)throw new Error('invalid interface "'+e+'"');return this._ui=this._ui(this.suite),this},o.prototype.loadFiles=function(e){var n=this,r=this.suite,i=this.files.length;this.files.forEach(function(o){o=s.resolve(o),r.emit("pre-require",t,o,n),r.emit("require",require(o),o,n),r.emit("post-require",t,o,n),--i||e&&e()})},o.prototype._growl=function(e,t){var n=require("growl");e.on("end",function(){var i=t.stats;if(i.failures){var o=i.failures+" of "+e.total+" tests failed";n(o,{name:"mocha",title:"Failed",image:r("error")})}else n(i.passes+" tests passed in "+i.duration+"ms",{name:"mocha",title:"Passed",image:r("ok")})})},o.prototype.grep=function(e){return this.options.grep="string"==typeof e?new RegExp(a(e)):e,this},o.prototype.invert=function(){return this.options.invert=!0,this},o.prototype.ignoreLeaks=function(e){return this.options.ignoreLeaks=!!e,this},o.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},o.prototype.fullTrace=function(){return this.options.fullStackTrace=!0,this},o.prototype.growl=function(){return this.options.growl=!0,this},o.prototype.globals=function(e){return this.options.globals=(this.options.globals||[]).concat(e),this},o.prototype.useColors=function(e){return void 0!==e&&(this.options.useColors=e),this},o.prototype.useInlineDiffs=function(e){return this.options.useInlineDiffs=arguments.length&&void 0!=e?e:!1,this},o.prototype.timeout=function(e){return this.suite.timeout(e),this},o.prototype.slow=function(e){return this.suite.slow(e),this},o.prototype.enableTimeouts=function(e){return this.suite.enableTimeouts(arguments.length&&void 0!==e?e:!0),this},o.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},o.prototype.noHighlighting=function(){return this.options.noHighlighting=!0,this},o.prototype.delay=function(){return this.options.delay=!0,this},o.prototype.run=function(e){function t(t){s.done?s.done(t,e):e&&e(t)}this.files.length&&this.loadFiles();var r=this.suite,i=this.options;i.files=this.files;var o=new n.Runner(r,i.delay),s=new this._reporter(o,i);return o.ignoreLeaks=!1!==i.ignoreLeaks,o.fullStackTrace=i.fullStackTrace,o.asyncOnly=i.asyncOnly,i.grep&&o.grep(i.grep,i.invert),i.globals&&o.globals(i.globals),i.growl&&this._growl(o,s),void 0!==i.useColors&&(n.reporters.Base.useColors=i.useColors),n.reporters.Base.inlineDiffs=i.useInlineDiffs,o.run(t)}}),require.register("ms.js",function(e,t,require){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"h":return n*u;case"minutes":case"minute":case"m":return n*a;case"seconds":case"second":case"s":return n*s;case"ms":return n}}}function r(e){return e>=c?Math.round(e/c)+"d":e>=u?Math.round(e/u)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function i(e){return o(e,c,"day")||o(e,u,"hour")||o(e,a,"minute")||o(e,s,"second")||e+" ms"}function o(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,a=60*s,u=60*a,c=24*u,l=365.25*c;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?i(e):r(e)}}),require.register("pending.js",function(e,t,require){function n(e){this.message=e}e.exports=n}),require.register("reporters/base.js",function(e,n,require){function r(e){var t=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},n=this.failures=[];e&&(this.runner=e,e.stats=t,e.on("start",function(){t.start=new b}),e.on("suite",function(e){t.suites=t.suites||0,e.root||t.suites++}),e.on("test end",function(e){t.tests=t.tests||0,t.tests++}),e.on("pass",function(e){t.passes=t.passes||0;var n=e.slow()/2;e.speed=e.duration>e.slow()?"slow":e.duration>n?"medium":"fast",t.passes++}),e.on("fail",function(e,r){t.failures=t.failures||0,t.failures++,e.err=r,n.push(e)}),e.on("end",function(){t.end=new b,t.duration=new b-t.start}),e.on("pending",function(){t.pending++}))}function o(e,t){return e=String(e),Array(t-e.length+1).join(" ")+e}function s(e,t){var n=u(e,"WordsWithSpace",t),r=n.split("\n");if(r.length>4){var i=String(r.length).length;n=r.map(function(e,t){return o(++t,i)+" | "+e}).join("\n")}return n="\n"+y("diff removed","actual")+" "+y("diff added","expected")+"\n\n"+n+"\n",n=n.replace(/^/gm,"      ")}function a(e,t){function n(e){return t&&(e=c(e)),"+"===e[0]?i+l("diff added",e):"-"===e[0]?i+l("diff removed",e):e.match(/\@\@/)?null:e.match(/\\ No newline/)?null:i+e;
}function r(e){return null!=e}var i="      ",o=p.createPatch("string",e.actual,e.expected),s=o.split("\n").splice(4);return"\n      "+l("diff added","+ expected")+" "+l("diff removed","- actual")+"\n\n"+s.map(n).filter(r).join("\n")}function u(e,t,n){var r=n?c(e.actual):e.actual,i=n?c(e.expected):e.expected;return p["diff"+t](r,i).map(function(e){return e.added?l("diff added",e.value):e.removed?l("diff removed",e.value):e.value}).join("")}function c(e){return e.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function l(e,t){return t.split("\n").map(function(t){return y(e,t)}).join("\n")}function f(e,t){return e=Object.prototype.toString.call(e),t=Object.prototype.toString.call(t),e==t}var h=require("browser/tty"),p=require("browser/diff"),d=require("../ms"),g=require("../utils"),m=i.env?require("supports-color"):null,b=t.Date,v=(t.setTimeout,t.setInterval,t.clearTimeout,t.clearInterval,h.isatty(1)&&h.isatty(2));n=e.exports=r,n.useColors=i.env?m||void 0!==i.env.MOCHA_COLORS:!1,n.inlineDiffs=!1,n.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},n.symbols={ok:"\u2713",err:"\u2716",dot:"\u2024"},"win32"==i.platform&&(n.symbols.ok="\u221a",n.symbols.err="\xd7",n.symbols.dot=".");var y=n.color=function(e,t){return n.useColors?"["+n.colors[e]+"m"+t+"[0m":String(t)};n.window={width:v?i.stdout.getWindowSize?i.stdout.getWindowSize(1)[0]:h.getWindowSize()[1]:75},n.cursor={hide:function(){v&&i.stdout.write("[?25l")},show:function(){v&&i.stdout.write("[?25h")},deleteLine:function(){v&&i.stdout.write("[2K")},beginningOfLine:function(){v&&i.stdout.write("[0G")},CR:function(){v?(n.cursor.deleteLine(),n.cursor.beginningOfLine()):i.stdout.write("\r")}},n.list=function(e){console.log(),e.forEach(function(e,t){var r=y("error title","  %s) %s:\n")+y("error message","     %s")+y("error stack","\n%s\n"),i=e.err,o=i.message||"",u=i.stack||o,c=u.indexOf(o),l=i.actual,h=i.expected,p=!0;if(-1===c?msg=o:(c+=o.length,msg=u.slice(0,c),u=u.slice(c+1)),i.uncaught&&(msg="Uncaught "+msg),i.showDiff!==!1&&f(l,h)&&void 0!==h){"string"!=typeof l&&(p=!1,i.actual=l=g.stringify(l),i.expected=h=g.stringify(h)),r=y("error title","  %s) %s:\n%s")+y("error stack","\n%s\n");var d=o.match(/^([^:]+): expected/);msg="\n      "+y("error message",d?d[1]:msg),n.inlineDiffs?msg+=s(i,p):msg+=a(i,p)}u=u.replace(/^/gm,"  "),console.log(r,t+1,e.fullTitle(),msg,u)})},r.prototype.epilogue=function(){var e,t=this.stats;console.log(),e=y("bright pass"," ")+y("green"," %d passing")+y("light"," (%s)"),console.log(e,t.passes||0,d(t.duration)),t.pending&&(e=y("pending"," ")+y("pending"," %d pending"),console.log(e,t.pending)),t.failures&&(e=y("fail","  %d failing"),console.log(e,t.failures),r.list(this.failures),console.log()),console.log()}}),require.register("reporters/doc.js",function(e,t,require){function n(e){function t(){return Array(n).join("  ")}r.call(this,e);var n=(this.stats,e.total,2);e.on("suite",function(e){e.root||(++n,console.log('%s<section class="suite">',t()),++n,console.log("%s<h1>%s</h1>",t(),i.escape(e.title)),console.log("%s<dl>",t()))}),e.on("suite end",function(e){e.root||(console.log("%s</dl>",t()),--n,console.log("%s</section>",t()),--n)}),e.on("pass",function(e){console.log("%s  <dt>%s</dt>",t(),i.escape(e.title));var n=i.escape(i.clean(e.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",t(),n)}),e.on("fail",function(e,n){console.log('%s  <dt class="error">%s</dt>',t(),i.escape(e.title));var r=i.escape(i.clean(e.fn.toString()));console.log('%s  <dd class="error"><pre><code>%s</code></pre></dd>',t(),r),console.log('%s  <dd class="error">%s</dd>',t(),i.escape(n))})}var r=require("./base"),i=require("../utils");t=e.exports=n}),require.register("reporters/dot.js",function(e,t,require){function n(e){o.call(this,e);var t=this,n=(this.stats,.75*o.window.width|0),r=-1;e.on("start",function(){i.stdout.write("\n")}),e.on("pending",function(e){++r%n==0&&i.stdout.write("\n  "),i.stdout.write(s("pending",o.symbols.dot))}),e.on("pass",function(e){++r%n==0&&i.stdout.write("\n  "),"slow"==e.speed?i.stdout.write(s("bright yellow",o.symbols.dot)):i.stdout.write(s(e.speed,o.symbols.dot))}),e.on("fail",function(e,t){++r%n==0&&i.stdout.write("\n  "),i.stdout.write(s("fail",o.symbols.dot))}),e.on("end",function(){console.log(),t.epilogue()})}function r(){}var o=require("./base"),s=o.color;t=e.exports=n,r.prototype=o.prototype,n.prototype=new r,n.prototype.constructor=n}),require.register("reporters/html-cov.js",function(e,t,require){function n(e){var t=require("jade"),n=__dirname+"/templates/coverage.jade",a=s.readFileSync(n,"utf8"),u=t.compile(a,{filename:n}),c=this;o.call(this,e,!1),e.on("end",function(){i.stdout.write(u({cov:c.cov,coverageClass:r}))})}function r(e){return e>=75?"high":e>=50?"medium":e>=25?"low":"terrible"}var o=require("./json-cov"),s=require("browser/fs");t=e.exports=n}),require.register("reporters/html.js",function(e,n,require){function r(e){l.call(this,e);var t,n,r=this,m=this.stats,b=(e.total,o(g)),v=b.getElementsByTagName("li"),y=v[1].getElementsByTagName("em")[0],w=v[1].getElementsByTagName("a")[0],x=v[2].getElementsByTagName("em")[0],E=v[2].getElementsByTagName("a")[0],j=v[3].getElementsByTagName("em")[0],k=b.getElementsByTagName("canvas")[0],T=o('<ul id="mocha-report"></ul>'),O=[T],S=document.getElementById("mocha");if(k.getContext){var _=window.devicePixelRatio||1;k.style.width=k.width,k.style.height=k.height,k.width*=_,k.height*=_,n=k.getContext("2d"),n.scale(_,_),t=new h}return S?(c(w,"click",function(){a();var e=/pass/.test(T.className)?"":" pass";T.className=T.className.replace(/fail|pass/g,"")+e,T.className.trim()&&s("test pass")}),c(E,"click",function(){a();var e=/fail/.test(T.className)?"":" fail";T.className=T.className.replace(/fail|pass/g,"")+e,T.className.trim()&&s("test fail")}),S.appendChild(b),S.appendChild(T),t&&t.size(40),e.on("suite",function(e){if(!e.root){var t=r.suiteURL(e),n=o('<li class="suite"><h1><a href="%s">%s</a></h1></li>',t,p(e.title));O[0].appendChild(n),O.unshift(document.createElement("ul")),n.appendChild(O[0])}}),e.on("suite end",function(e){e.root||O.shift()}),e.on("fail",function(t,n){"hook"==t.type&&e.emit("test end",t)}),void e.on("test end",function(e){var i=m.tests/this.total*100|0;t&&t.update(i).draw(n);var s=new d-m.start;if(u(y,m.passes),u(x,m.failures),u(j,(s/1e3).toFixed(2)),"passed"==e.state)var a=r.testURL(e),l=o('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">\u2023</a></h2></li>',e.speed,e.title,e.duration,a);else if(e.pending)var l=o('<li class="test pass pending"><h2>%e</h2></li>',e.title);else{var l=o('<li class="test fail"><h2>%e <a href="%e" class="replay">\u2023</a></h2></li>',e.title,r.testURL(e)),h=e.err.stack||e.err.toString();~h.indexOf(e.err.message)||(h=e.err.message+"\n"+h),"[object Error]"==h&&(h=e.err.message),!e.err.stack&&e.err.sourceURL&&void 0!==e.err.line&&(h+="\n("+e.err.sourceURL+":"+e.err.line+")"),l.appendChild(o('<pre class="error">%e</pre>',h))}if(!e.pending){var p=l.getElementsByTagName("h2")[0];c(p,"click",function(){g.style.display="none"==g.style.display?"block":"none"});var g=o("<pre><code>%e</code></pre>",f.clean(e.fn.toString()));l.appendChild(g),g.style.display="none"}O[0]&&O[0].appendChild(l)})):i("#mocha div missing, add it to your document")}function i(e){document.body.appendChild(o('<div id="mocha-error">%s</div>',e))}function o(e){var t=arguments,n=document.createElement("div"),r=1;return n.innerHTML=e.replace(/%([se])/g,function(e,n){switch(n){case"s":return String(t[r++]);case"e":return p(t[r++])}}),n.firstChild}function s(e){for(var t=document.getElementsByClassName("suite"),n=0;n<t.length;n++){var r=t[n].getElementsByClassName(e);0==r.length&&(t[n].className+=" hidden")}}function a(){for(var e=document.getElementsByClassName("suite hidden"),t=0;t<e.length;++t)e[t].className=e[t].className.replace("suite hidden","suite")}function u(e,t){e.textContent?e.textContent=t:e.innerText=t}function c(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}var l=require("./base"),f=require("../utils"),h=require("../browser/progress"),p=f.escape,d=t.Date;t.setTimeout,t.setInterval,t.clearTimeout,t.clearInterval;n=e.exports=r;var g='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>',m=function(e){var t=window.location.search;return t&&(t=t.replace(/[?&]grep=[^&\s]*/g,"").replace(/^&/,"?")),window.location.pathname+(t?t+"&":"?")+"grep="+encodeURIComponent(e)};r.prototype.suiteURL=function(e){return m(e.fullTitle())},r.prototype.testURL=function(e){return m(e.fullTitle())}}),require.register("reporters/index.js",function(e,t,require){t.Base=require("./base"),t.Dot=require("./dot"),t.Doc=require("./doc"),t.TAP=require("./tap"),t.JSON=require("./json"),t.HTML=require("./html"),t.List=require("./list"),t.Min=require("./min"),t.Spec=require("./spec"),t.Nyan=require("./nyan"),t.XUnit=require("./xunit"),t.Markdown=require("./markdown"),t.Progress=require("./progress"),t.Landing=require("./landing"),t.JSONCov=require("./json-cov"),t.HTMLCov=require("./html-cov"),t.JSONStream=require("./json-stream")}),require.register("reporters/json-cov.js",function(e,n,require){function r(e,n){var r=this,n=1==arguments.length?!0:n;u.call(this,e);var s=[],c=[],l=[];e.on("test end",function(e){s.push(e)}),e.on("pass",function(e){l.push(e)}),e.on("fail",function(e){c.push(e)}),e.on("end",function(){var e=t._$jscoverage||{},u=r.cov=o(e);u.stats=r.stats,u.tests=s.map(a),u.failures=c.map(a),u.passes=l.map(a),n&&i.stdout.write(JSON.stringify(u,null,2))})}function o(e){var t={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in e){var r=s(n,e[n]);t.files.push(r),t.hits+=r.hits,t.misses+=r.misses,t.sloc+=r.sloc}return t.files.sort(function(e,t){return e.filename.localeCompare(t.filename)}),t.sloc>0&&(t.coverage=t.hits/t.sloc*100),t}function s(e,t){var n={filename:e,coverage:0,hits:0,misses:0,sloc:0,source:{}};return t.source.forEach(function(e,r){r++,0===t[r]?(n.misses++,n.sloc++):void 0!==t[r]&&(n.hits++,n.sloc++),n.source[r]={source:e,coverage:void 0===t[r]?"":t[r]}}),n.coverage=n.hits/n.sloc*100,n}function a(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var u=require("./base");n=e.exports=r}),require.register("reporters/json-stream.js",function(e,t,require){function n(e){o.call(this,e);var t=this,n=(this.stats,e.total);e.on("start",function(){console.log(JSON.stringify(["start",{total:n}]))}),e.on("pass",function(e){console.log(JSON.stringify(["pass",r(e)]))}),e.on("fail",function(e,t){e=r(e),e.err=t.message,console.log(JSON.stringify(["fail",e]))}),e.on("end",function(){i.stdout.write(JSON.stringify(["end",t.stats]))})}function r(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var o=require("./base");o.color;t=e.exports=n}),require.register("reporters/json.js",function(e,t,require){function n(e){var t=this;s.call(this,e);var n=[],o=[],a=[],u=[];e.on("test end",function(e){n.push(e)}),e.on("pass",function(e){u.push(e)}),e.on("fail",function(e){a.push(e)}),e.on("pending",function(e){o.push(e)}),e.on("end",function(){var s={stats:t.stats,tests:n.map(r),pending:o.map(r),failures:a.map(r),passes:u.map(r)};e.testResults=s,i.stdout.write(JSON.stringify(s,null,2))})}function r(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration,err:o(e.err||{})}}function o(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(n){t[n]=e[n]},e),t}var s=require("./base");s.cursor,s.color;t=e.exports=n}),require.register("reporters/landing.js",function(e,t,require){function n(e){function t(){var e=Array(r).join("-");return"  "+a("runway",e)}o.call(this,e);var n=this,r=(this.stats,.75*o.window.width|0),u=e.total,c=i.stdout,l=a("plane","\u2708"),f=-1,h=0;e.on("start",function(){c.write("\n\n\n  "),s.hide()}),e.on("test end",function(e){var n=-1==f?r*++h/u|0:f;"failed"==e.state&&(l=a("plane crash","\u2708"),f=n),c.write("["+(r+1)+"D[2A"),c.write(t()),c.write("\n  "),c.write(a("runway",Array(n).join("\u22c5"))),c.write(l),c.write(a("runway",Array(r-n).join("\u22c5")+"\n")),c.write(t()),c.write("[0m")}),e.on("end",function(){s.show(),console.log(),n.epilogue()})}function r(){}var o=require("./base"),s=o.cursor,a=o.color;t=e.exports=n,o.colors.plane=0,o.colors["plane crash"]=31,o.colors.runway=90,r.prototype=o.prototype,n.prototype=new r,n.prototype.constructor=n}),require.register("reporters/list.js",function(e,t,require){function n(e){o.call(this,e);var t=this,n=(this.stats,0);e.on("start",function(){console.log()}),e.on("test",function(e){i.stdout.write(a("pass","    "+e.fullTitle()+": "))}),e.on("pending",function(e){var t=a("checkmark","  -")+a("pending"," %s");console.log(t,e.fullTitle())}),e.on("pass",function(e){var t=a("checkmark","  "+o.symbols.dot)+a("pass"," %s: ")+a(e.speed,"%dms");s.CR(),console.log(t,e.fullTitle(),e.duration)}),e.on("fail",function(e,t){s.CR(),console.log(a("fail","  %d) %s"),++n,e.fullTitle())}),e.on("end",t.epilogue.bind(t))}function r(){}var o=require("./base"),s=o.cursor,a=o.color;t=e.exports=n,r.prototype=o.prototype,n.prototype=new r,n.prototype.constructor=n}),require.register("reporters/markdown.js",function(e,t,require){function n(e){function t(e){return Array(c).join("#")+" "+e}function n(e,t){var r=t,i=s+e.title;return t=t[i]=t[i]||{suite:e},e.suites.forEach(function(e){n(e,t)}),r}function a(e,t){++t;var n,r="";for(var i in e)"suite"!=i&&(i!==s&&(n=" - ["+i.substring(1)+"]",n+="(#"+o.slug(e[i].suite.fullTitle())+")\n",r+=Array(t).join("  ")+n),r+=a(e[i],t));return r}function u(e){var t=n(e,{});return a(t,0)}r.call(this,e);var c=(this.stats,0),l="";u(e.suite),e.on("suite",function(e){++c;var n=o.slug(e.fullTitle());l+='<a name="'+n+'"></a>\n',l+=t(e.title)+"\n"}),e.on("suite end",function(e){--c}),e.on("pass",function(e){var t=o.clean(e.fn.toString());l+=e.title+".\n",l+="\n```js\n",l+=t+"\n",l+="```\n\n"}),e.on("end",function(){i.stdout.write("# TOC\n"),i.stdout.write(u(e.suite)),i.stdout.write(l)})}var r=require("./base"),o=require("../utils"),s="$";t=e.exports=n}),require.register("reporters/min.js",function(e,t,require){function n(e){o.call(this,e),e.on("start",function(){i.stdout.write("[2J"),i.stdout.write("[1;3H")}),e.on("end",this.epilogue.bind(this))}function r(){}var o=require("./base");t=e.exports=n,r.prototype=o.prototype,n.prototype=new r,n.prototype.constructor=n}),require.register("reporters/nyan.js",function(e,t,require){function n(e){s.call(this,e);var t=this,n=(this.stats,.75*s.window.width|0),i=(this.rainbowColors=t.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=n-i,this.scoreboardWidth=5,this.tick=0;e.on("start",function(){s.cursor.hide(),t.draw()}),e.on("pending",function(e){t.draw()}),e.on("pass",function(e){t.draw()}),e.on("fail",function(e,n){t.draw()}),e.on("end",function(){s.cursor.show();for(var e=0;e<t.numberOfLines;e++)r("\n");t.epilogue()})}function r(e){i.stdout.write(e)}function o(){}var s=require("./base");t=e.exports=n,n.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},n.prototype.drawScoreboard=function(){function e(e,t){r(" "),r(s.color(e,t)),r("\n")}var t=this.stats;e("green",t.passes),e("fail",t.failures),e("pending",t.pending),r("\n"),this.cursorUp(this.numberOfLines)},n.prototype.appendRainbow=function(){for(var e=this.tick?"_":"-",t=this.rainbowify(e),n=0;n<this.numberOfLines;n++){var r=this.trajectories[n];r.length>=this.trajectoryWidthMax&&r.shift(),r.push(t)}},n.prototype.drawRainbow=function(){var e=this;this.trajectories.forEach(function(t,n){r("["+e.scoreboardWidth+"C"),r(t.join("")),r("\n")}),this.cursorUp(this.numberOfLines)},n.prototype.drawNyanCat=function(){var e=this,t=this.scoreboardWidth+this.trajectories[0].length,n="["+t+"C",i="";r(n),r("_,------,"),r("\n"),r(n),i=e.tick?"  ":"   ",r("_|"+i+"/\\_/\\ "),r("\n"),r(n),i=e.tick?"_":"__";var o=e.tick?"~":"^";r(o+"|"+i+this.face()+" "),r("\n"),r(n),i=e.tick?" ":"  ",r(i+'""  "" '),r("\n"),this.cursorUp(this.numberOfLines)},n.prototype.face=function(){var e=this.stats;return e.failures?"( x .x)":e.pending?"( o .o)":e.passes?"( ^ .^)":"( - .-)"},n.prototype.cursorUp=function(e){r("["+e+"A")},n.prototype.cursorDown=function(e){r("["+e+"B")},n.prototype.generateColors=function(){for(var e=[],t=0;42>t;t++){var n=Math.floor(Math.PI/3),r=t*(1/6),i=Math.floor(3*Math.sin(r)+3),o=Math.floor(3*Math.sin(r+2*n)+3),s=Math.floor(3*Math.sin(r+4*n)+3);e.push(36*i+6*o+s+16)}return e},n.prototype.rainbowify=function(e){if(!s.useColors)return e;var t=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+t+"m"+e+"[0m"},o.prototype=s.prototype,n.prototype=new o,n.prototype.constructor=n}),require.register("reporters/progress.js",function(e,t,require){function n(e,t){o.call(this,e);var n=this,t=t||{},r=(this.stats,.5*o.window.width|0),u=e.total,c=0,l=(Math.max,-1);t.open=t.open||"[",t.complete=t.complete||"\u25ac",t.incomplete=t.incomplete||o.symbols.dot,t.close=t.close||"]",t.verbose=!1,e.on("start",function(){console.log(),s.hide()}),e.on("test end",function(){c++;var e=c/u,n=r*e|0,o=r-n;(l!==n||t.verbose)&&(l=n,s.CR(),i.stdout.write("[J"),i.stdout.write(a("progress","  "+t.open)),i.stdout.write(Array(n).join(t.complete)),i.stdout.write(Array(o).join(t.incomplete)),i.stdout.write(a("progress",t.close)),t.verbose&&i.stdout.write(a("progress"," "+c+" of "+u)))}),e.on("end",function(){s.show(),console.log(),n.epilogue()})}function r(){}var o=require("./base"),s=o.cursor,a=o.color;t=e.exports=n,o.colors.progress=90,r.prototype=o.prototype,n.prototype=new r,n.prototype.constructor=n}),require.register("reporters/spec.js",function(e,t,require){function n(e){function t(){return Array(r).join("  ")}i.call(this,e);var n=this,r=(this.stats,0),a=0;e.on("start",function(){console.log()}),e.on("suite",function(e){++r,console.log(s("suite","%s%s"),t(),e.title)}),e.on("suite end",function(e){--r,1==r&&console.log()}),e.on("pending",function(e){var n=t()+s("pending","  - %s");console.log(n,e.title)}),e.on("pass",function(e){if("fast"==e.speed){var n=t()+s("checkmark","  "+i.symbols.ok)+s("pass"," %s");o.CR(),console.log(n,e.title)}else{var n=t()+s("checkmark","  "+i.symbols.ok)+s("pass"," %s")+s(e.speed," (%dms)");o.CR(),console.log(n,e.title,e.duration)}}),e.on("fail",function(e,n){o.CR(),console.log(t()+s("fail","  %d) %s"),++a,e.title)}),e.on("end",n.epilogue.bind(n))}function r(){}var i=require("./base"),o=i.cursor,s=i.color;t=e.exports=n,r.prototype=i.prototype,n.prototype=new r,n.prototype.constructor=n}),require.register("reporters/tap.js",function(e,t,require){function n(e){i.call(this,e);var t=(this.stats,1),n=0,o=0;e.on("start",function(){var t=e.grepTotal(e.suite);console.log("%d..%d",1,t)}),e.on("test end",function(){++t}),e.on("pending",function(e){console.log("ok %d %s # SKIP -",t,r(e))}),e.on("pass",function(e){n++,console.log("ok %d %s",t,r(e))}),e.on("fail",function(e,n){o++,console.log("not ok %d %s",t,r(e)),n.stack&&console.log(n.stack.replace(/^/gm,"  "))}),e.on("end",function(){console.log("# tests "+(n+o)),console.log("# pass "+n),console.log("# fail "+o)})}function r(e){return e.fullTitle().replace(/#/g,"")}var i=require("./base");i.cursor,i.color;t=e.exports=n}),require.register("reporters/xunit.js",function(e,n,require){function r(e,t){a.call(this,e);var n=this.stats,r=[],i=this;if(t.reporterOptions&&t.reporterOptions.output){if(!c.createWriteStream)throw new Error("file output not supported in browser");i.fileStream=c.createWriteStream(t.reporterOptions.output)}e.on("pending",function(e){r.push(e)}),e.on("pass",function(e){r.push(e)}),e.on("fail",function(e){r.push(e)}),e.on("end",function(){i.write(o("testsuite",{name:"Mocha Tests",tests:n.tests,failures:n.failures,errors:n.failures,skipped:n.tests-n.failures-n.passes,timestamp:(new f).toUTCString(),time:n.duration/1e3||0},!1)),r.forEach(function(e){i.test(e)}),i.write("</testsuite>")})}function i(){}function o(e,t,n,r){var i,o=n?"/>":">",s=[];for(var a in t)s.push(a+'="'+l(t[a])+'"');return i="<"+e+(s.length?" "+s.join(" "):"")+o,r&&(i+=r+"</"+e+o),i}function s(e){return"<![CDATA["+l(e)+"]]>"}var a=require("./base"),u=require("../utils"),c=require("browser/fs"),l=u.escape,f=t.Date;t.setTimeout,t.setInterval,t.clearTimeout,t.clearInterval;n=e.exports=r,r.prototype.done=function(e,t){this.fileStream?this.fileStream.end(function(){t(e)}):t(e)},i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,r.prototype.write=function(e){this.fileStream?this.fileStream.write(e+"\n"):console.log(e)},r.prototype.test=function(e,t){var n={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3||0};if("failed"==e.state){var r=e.err;this.write(o("testcase",n,!1,o("failure",{},!1,s(l(r.message)+"\n"+r.stack))))}else e.pending?this.write(o("testcase",n,!1,o("skipped",{},!0))):this.write(o("testcase",n,!0))}}),require.register("runnable.js",function(e,n,require){function r(e,t){this.title=e,this.fn=t,this.async=t&&t.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this._enableTimeouts=!0,this.timedOut=!1,this._trace=new Error("done() called multiple times")}function i(){}var o=require("browser/events").EventEmitter,s=require("browser/debug")("mocha:runnable"),a=require("./pending"),u=require("./ms"),c=require("./utils"),l=t.Date,f=t.setTimeout,h=(t.setInterval,t.clearTimeout),p=(t.clearInterval,Object.prototype.toString);e.exports=r,i.prototype=o.prototype,r.prototype=new i,r.prototype.constructor=r,r.prototype.timeout=function(e){return 0==arguments.length?this._timeout:(0===e&&(this._enableTimeouts=!1),"string"==typeof e&&(e=u(e)),s("timeout %d",e),this._timeout=e,this.timer&&this.resetTimeout(),this)},r.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=u(e)),s("timeout %d",e),this._slow=e,this)},r.prototype.enableTimeouts=function(e){return 0===arguments.length?this._enableTimeouts:(s("enableTimeouts %s",e),this._enableTimeouts=e,this)},r.prototype.skip=function(){throw new a},r.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},r.prototype.clearTimeout=function(){h(this.timer)},r.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_"!=e[0]?"parent"==e?"#<Suite>":"ctx"==e?"#<Context>":t:void 0},2)},r.prototype.resetTimeout=function(){var e=this,t=this.timeout()||1e9;this._enableTimeouts&&(this.clearTimeout(),this.timer=f(function(){e._enableTimeouts&&(e.callback(new Error("timeout of "+t+"ms exceeded. Ensure the done() callback is being called in this test.")),e.timedOut=!0)},t))},r.prototype.globals=function(e){this._allowedGlobals=e},r.prototype.run=function(e){function t(e){o||(o=!0,s.emit("error",e||new Error("done() called multiple times; stacktrace may be inaccurate")))}function n(n){var r=s.timeout();if(!s.timedOut)return i?t(n||s._trace):void(s.state||(s.clearTimeout(),s.duration=new l-a,i=!0,!n&&s.duration>r&&s._enableTimeouts&&(n=new Error("timeout of "+r+"ms exceeded. Ensure the done() callback is being called in this test.")),e(n)))}function r(e){var t=e.call(u);t&&"function"==typeof t.then?(s.resetTimeout(),t.then(function(){n()},function(e){n(e||new Error("Promise rejected with no or falsy reason"))})):n()}var i,o,s=this,a=new l,u=this.ctx;if(u&&u.runnable&&u.runnable(this),this.callback=n,this.async){this.resetTimeout();try{this.fn.call(u,function(e){return e instanceof Error||"[object Error]"===p.call(e)?n(e):null!=e?n("[object Object]"===Object.prototype.toString.call(e)?new Error("done() invoked with non-Error: "+JSON.stringify(e)):new Error("done() invoked with non-Error: "+e)):void n()})}catch(f){n(c.getError(f))}}else{if(this.asyncOnly)return n(new Error("--async-only option in use without declaring `done()`"));try{this.pending?n():r(this.fn)}catch(f){n(c.getError(f))}}}}),require.register("runner.js",function(e,n,require){function r(e,t){var n=this;this._globals=[],this._abort=!1,this._delay=t,this.suite=e,this.total=e.total(),this.failures=0,this.on("test end",function(e){n.checkGlobals(e)}),this.on("hook end",function(e){n.checkGlobals(e)}),this.grep(/.*/),this.globals(this.globalProps().concat(a()))}function o(){}function s(e,n){return h(n,function(n){if(/^d+/.test(n))return!1;if(t.navigator&&/^getInterface/.test(n))return!1;if(t.navigator&&/^\d+/.test(n))return!1;if(/^mocha-/.test(n))return!1;var r=h(e,function(e){return~e.indexOf("*")?0==n.indexOf(e.split("*")[0]):n==e});return 0==r.length&&(!t.navigator||"onerror"!==n)})}function a(){if("object"==typeof i&&"string"==typeof i.version){var e=i.version.split(".").reduce(function(e,t){return e<<8|t});if(2315>e)return["errno"]}return[]}var u=require("browser/events").EventEmitter,c=require("browser/debug")("mocha:runner"),l=require("./pending"),f=(require("./test"),require("./utils")),h=f.filter,p=(f.keys,f.type),d=f.stringify,g=f.stackTraceFilter(),m=["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date","setImmediate","clearImmediate"];e.exports=r,r.immediately=t.setImmediate||i.nextTick,o.prototype=u.prototype,r.prototype=new o,r.prototype.constructor=r,r.prototype.grep=function(e,t){return c("grep %s",e),this._grep=e,this._invert=t,this.total=this.grepTotal(this.suite),this},r.prototype.grepTotal=function(e){var t=this,n=0;return e.eachTest(function(e){var r=t._grep.test(e.fullTitle());t._invert&&(r=!r),r&&n++}),n},r.prototype.globalProps=function(){for(var e=f.keys(t),n=0;n<m.length;++n)~f.indexOf(e,m[n])||e.push(m[n]);return e},r.prototype.globals=function(e){return 0==arguments.length?this._globals:(c("globals %j",e),this._globals=this._globals.concat(e),this)},r.prototype.checkGlobals=function(e){if(!this.ignoreLeaks){var t,n=this._globals,r=this.globalProps();e&&(n=n.concat(e._allowedGlobals||[])),this.prevGlobalsLength!=r.length&&(this.prevGlobalsLength=r.length,t=s(n,r),this._globals=this._globals.concat(t),t.length>1?this.fail(e,new Error("global leaks detected: "+t.join(", "))):t.length&&this.fail(e,new Error("global leak detected: "+t[0])))}},r.prototype.fail=function(e,t){++this.failures,e.state="failed",t instanceof Error||(t=new Error("the "+p(t)+" "+d(t)+" was thrown, throw an Error :)")),t.stack=this.fullStackTrace||!t.stack?t.stack:g(t.stack),this.emit("fail",e,t)},r.prototype.failHook=function(e,t){this.fail(e,t),this.suite.bail()&&this.emit("end")},r.prototype.hook=function(e,t){function n(e){var r=o[e];return r?(s.currentRunnable=r,r.ctx.currentTest=s.test,s.emit("hook",r),r.on("error",function(e){s.failHook(r,e)}),void r.run(function(o){r.removeAllListeners("error");var a=r.error();if(a&&s.fail(s.test,a),o){if(!(o instanceof l))return s.failHook(r,o),t(o);i.pending=!0}s.emit("hook end",r),delete r.ctx.currentTest,n(++e)})):t()}var i=this.suite,o=i["_"+e],s=this;r.immediately(function(){n(0)})},r.prototype.hooks=function(e,t,n){function r(s){return i.suite=s,s?void i.hook(e,function(e){if(e){var s=i.suite;return i.suite=o,n(e,s)}r(t.pop())}):(i.suite=o,n())}var i=this,o=this.suite;r(t.pop())},r.prototype.hookUp=function(e,t){var n=[this.suite].concat(this.parents()).reverse();this.hooks(e,n,t)},r.prototype.hookDown=function(e,t){var n=[this.suite].concat(this.parents());this.hooks(e,n,t)},r.prototype.parents=function(){for(var e=this.suite,t=[];e=e.parent;)t.push(e);return t},r.prototype.runTest=function(e){var t=this.test,n=this;this.asyncOnly&&(t.asyncOnly=!0);try{t.on("error",function(e){n.fail(t,e)}),t.run(e)}catch(r){e(r)}},r.prototype.runTests=function(e,t){function n(e,r,i){var s=o.suite;o.suite=i?r.parent:r,o.suite?o.hookUp("afterEach",function(e,i){return o.suite=s,e?n(e,i,!0):void t(r)}):(o.suite=s,t(r))}function r(a,u){if(o.failures&&e._bail)return t();if(o._abort)return t();if(a)return n(a,u,!0);if(i=s.shift(),!i)return t();var c=o._grep.test(i.fullTitle());return o._invert&&(c=!c),c?i.pending?(o.emit("pending",i),o.emit("test end",i),r()):(o.emit("test",o.test=i),void o.hookDown("beforeEach",function(t,s){return e.pending?(o.emit("pending",i),o.emit("test end",i),r()):t?n(t,s,!1):(o.currentRunnable=o.test,void o.runTest(function(e){return i=o.test,e?(e instanceof l?o.emit("pending",i):o.fail(i,e),o.emit("test end",i),e instanceof l?r():o.hookUp("afterEach",r)):(i.state="passed",o.emit("pass",i),o.emit("test end",i),void o.hookUp("afterEach",r))}))})):r()}var i,o=this,s=e.tests.slice();this.next=r,r()},r.prototype.runSuite=function(e,t){function n(t){if(t)return t==e?r():r(t);if(o._abort)return r();var i=e.suites[s++];return i?void o.runSuite(i,n):r()}function r(n){o.suite=e,o.hook("afterAll",function(){o.emit("suite end",e),t(n)})}var i=this.grepTotal(e),o=this,s=0;return c("run suite %s",e.fullTitle()),i?(this.emit("suite",this.suite=e),void this.hook("beforeAll",function(t){return t?r():void o.runTests(e,n)})):t()},r.prototype.uncaught=function(e){e?c("uncaught exception %s",e!==function(){return this}.call(e)?e:e.message||e):(c("uncaught undefined exception"),e=f.undefinedError()),e.uncaught=!0;var t=this.currentRunnable;return t&&(t.clearTimeout(),!t.state)?(this.fail(t,e),"test"==t.type?(this.emit("test end",t),void this.hookUp("afterEach",this.next)):void this.emit("end")):void 0},r.prototype.run=function(e){function t(e){r.uncaught(e)}function n(){r.emit("start"),r.runSuite(o,function(){c("finished running"),r.emit("end")})}var r=this,o=this.suite;return e=e||function(){},c("start"),this.on("end",function(){c("end"),i.removeListener("uncaughtException",t),e(r.failures)}),i.on("uncaughtException",t),this._delay?(this.emit("waiting",o),o.once("run",n)):n(),this},r.prototype.abort=function(){c("aborting"),this._abort=!0}}),require.register("suite.js",function(e,t,require){function n(e,t){this.title=e;var n=function(){};n.prototype=t,this.ctx=new n,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!e,this._timeout=2e3,this._enableTimeouts=!0,this._slow=75,this._bail=!1,this.delayed=!1}function r(){}var i=require("browser/events").EventEmitter,o=require("browser/debug")("mocha:suite"),s=require("./ms"),a=require("./utils"),u=require("./hook");t=e.exports=n,t.create=function(e,t){var r=new n(t,e.ctx);return r.parent=e,e.pending&&(r.pending=!0),t=r.fullTitle(),e.addSuite(r),r},r.prototype=i.prototype,n.prototype=new r,n.prototype.constructor=n,n.prototype.clone=function(){var e=new n(this.title);return o("clone"),e.ctx=this.ctx,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),e},n.prototype.timeout=function(e){return 0==arguments.length?this._timeout:("0"===e.toString()&&(this._enableTimeouts=!1),"string"==typeof e&&(e=s(e)),o("timeout %d",e),this._timeout=parseInt(e,10),this)},n.prototype.enableTimeouts=function(e){return 0===arguments.length?this._enableTimeouts:(o("enableTimeouts %s",e),this._enableTimeouts=e,this)},n.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=s(e)),o("slow %d",e),this._slow=e,this)},n.prototype.bail=function(e){return 0==arguments.length?this._bail:(o("bail %s",e),this._bail=e,this)},n.prototype.beforeAll=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"before all" hook'+(e?": "+e:"");var n=new u(e,t);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._beforeAll.push(n),this.emit("beforeAll",n),this},n.prototype.afterAll=function(e,t){
if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"after all" hook'+(e?": "+e:"");var n=new u(e,t);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._afterAll.push(n),this.emit("afterAll",n),this},n.prototype.beforeEach=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"before each" hook'+(e?": "+e:"");var n=new u(e,t);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._beforeEach.push(n),this.emit("beforeEach",n),this},n.prototype.afterEach=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"after each" hook'+(e?": "+e:"");var n=new u(e,t);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._afterEach.push(n),this.emit("afterEach",n),this},n.prototype.addSuite=function(e){return e.parent=this,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),this.suites.push(e),this.emit("suite",e),this},n.prototype.addTest=function(e){return e.parent=this,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.ctx=this.ctx,this.tests.push(e),this.emit("test",e),this},n.prototype.fullTitle=function(){if(this.parent){var e=this.parent.fullTitle();if(e)return e+" "+this.title}return this.title},n.prototype.total=function(){return a.reduce(this.suites,function(e,t){return e+t.total()},0)+this.tests.length},n.prototype.eachTest=function(e){return a.forEach(this.tests,e),a.forEach(this.suites,function(t){t.eachTest(e)}),this},n.prototype.run=function(){this.root&&this.emit("run")}}),require.register("test.js",function(e,t,require){function n(e,t){i.call(this,e,t),this.pending=!t,this.type="test"}function r(){}var i=require("./runnable");e.exports=n,r.prototype=i.prototype,n.prototype=new r,n.prototype.constructor=n}),require.register("utils.js",function(e,t,require){function n(e){return!~p.indexOf(e)}function r(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}function o(e,n,r){function i(e){switch(t.type(e)){case"null":case"undefined":e="["+e+"]";break;case"array":case"object":e=o(e,n,r+1);break;case"boolean":case"regexp":case"number":e=0===e&&1/e===-(1/0)?"-0":e.toString();break;case"date":e="[Date: "+e.toISOString()+"]";break;case"buffer":var i=e.toJSON();i=i.data&&i.type?i.data:i,e="[Buffer: "+o(i,2,r+1)+"]";break;default:e="[Function]"==e||"[Circular]"==e?e:'"'+e+'"'}return e}if("undefined"==typeof n)return i(e);r=r||1;var s=n*r,a=d(e)?"[":"{",u=d(e)?"]":"}",c=e.length||t.keys(e).length,l=function(e,t){return new Array(t).join(e)};for(var f in e)e.hasOwnProperty(f)&&(--c,a+="\n "+l(" ",s)+(d(e)?"":'"'+f+'": ')+i(e[f])+(c?",":""));return a+(1!=a.length?"\n"+l(" ",--s)+u:u)}var s=require("browser/fs"),a=require("browser/path"),u=a.basename,c=s.existsSync||a.existsSync,l=require("browser/glob"),f=a.join,h=require("browser/debug")("mocha:watch"),p=["node_modules",".git"];t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.forEach=function(e,t,n){for(var r=0,i=e.length;i>r;r++)t.call(n,e[r],r)},t.map=function(e,t,n){for(var r=[],i=0,o=e.length;o>i;i++)r.push(t.call(n,e[i],i,e));return r},t.indexOf=function(e,t,n){for(var r=n||0,i=e.length;i>r;r++)if(e[r]===t)return r;return-1},t.reduce=function(e,t,n){for(var r=n,i=0,o=e.length;o>i;i++)r=t(r,e[i],i,e);return r},t.filter=function(e,t){for(var n=[],r=0,i=e.length;i>r;r++){var o=e[r];t(o,r,e)&&n.push(o)}return n},t.keys=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},t.watch=function(e,t){var n={interval:100};e.forEach(function(e){h("file %s",e),s.watchFile(e,n,function(n,r){r.mtime<n.mtime&&t(e)})})};var d=Array.isArray||function(e){return"[object Array]"=={}.toString.call(e)};"undefined"!=typeof Buffer&&Buffer.prototype&&(Buffer.prototype.toJSON=Buffer.prototype.toJSON||function(){return Array.prototype.slice.call(this,0)}),t.files=function(e,r,i){i=i||[],r=r||["js"];var o=new RegExp("\\.("+r.join("|")+")$");return s.readdirSync(e).filter(n).forEach(function(n){n=f(e,n),s.statSync(n).isDirectory()?t.files(n,r,i):n.match(o)&&i.push(n)}),i},t.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},t.clean=function(e){e=e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\)\s*{|\(.*\) *=> *{?/,"").replace(/\s+\}$/,"");var n=e.match(/^\n?( *)/)[1].length,r=e.match(/^\n?(\t*)/)[1].length,i=new RegExp("^\n?"+(r?"	":" ")+"{"+(r?r:n)+"}","gm");return e=e.replace(i,""),t.trim(e)},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.parseQuery=function(e){return t.reduce(e.replace("?","").split("&"),function(e,t){var n=t.indexOf("="),r=t.slice(0,n),i=t.slice(++n);return e[r]=decodeURIComponent(i),e},{})},t.highlightTags=function(e){for(var t=document.getElementById("mocha").getElementsByTagName(e),n=0,i=t.length;i>n;++n)t[n].innerHTML=r(t[n].innerHTML)};var g=function(e,n){switch(n=n||t.type(e)){case"function":return"[Function]";case"object":return"{}";case"array":return"[]";default:return e.toString()}};t.type=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)?"buffer":Object.prototype.toString.call(e).replace(/^\[.+\s(.+?)\]$/,"$1").toLowerCase()},t.stringify=function(e){var n=t.type(e);if(!~t.indexOf(["object","array","function"],n)){if("buffer"!=n)return o(e);var r=e.toJSON();return o(r.data&&r.type?r.data:r,2).replace(/,(\n|$)/g,"$1")}for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))return o(t.canonicalize(e),2).replace(/,(\n|$)/g,"$1");return g(e,n)},t.isBuffer=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)},t.canonicalize=function(e,n){var r,i,o=t.type(e),s=function(e,t){n.push(e),t(),n.pop()};if(n=n||[],-1!==t.indexOf(n,e))return"[Circular]";switch(o){case"undefined":case"buffer":case"null":r=e;break;case"array":s(e,function(){r=t.map(e,function(e){return t.canonicalize(e,n)})});break;case"function":for(i in e){r={};break}if(!r){r=g(e,o);break}case"object":r=r||{},s(e,function(){t.forEach(t.keys(e).sort(),function(i){r[i]=t.canonicalize(e[i],n)})});break;case"date":case"number":case"regexp":case"boolean":r=e;break;default:r=e.toString()}return r},t.lookupFiles=function m(e,t,n){var r=[],i=new RegExp("\\.("+t.join("|")+")$");if(!c(e)){if(!c(e+".js")){if(r=l.sync(e),!r.length)throw new Error("cannot resolve path (or pattern) '"+e+"'");return r}e+=".js"}try{var o=s.statSync(e);if(o.isFile())return e}catch(a){return}return s.readdirSync(e).forEach(function(o){o=f(e,o);try{var a=s.statSync(o);if(a.isDirectory())return void(n&&(r=r.concat(m(o,t,n))))}catch(c){return}a.isFile()&&i.test(o)&&"."!==u(o)[0]&&r.push(o)}),r},t.undefinedError=function(){return new Error("Caught undefined error, did you throw without specifying what?")},t.getError=function(e){return e||t.undefinedError()},t.stackTraceFilter=function(){function e(e){return~e.indexOf("node_modules")}function n(e){return~e.indexOf("node_modules"+s+"mocha")||~e.indexOf("components"+s+"mochajs")||~e.indexOf("components"+s+"mocha")}function r(e){return~e.indexOf("node_modules")||~e.indexOf("components")}function o(e){return~e.indexOf("(timers.js:")||~e.indexOf("(events.js:")||~e.indexOf("(node.js:")||~e.indexOf("(module.js:")||~e.indexOf("GeneratorFunctionPrototype.next (native)")||!1}var s="/",a="undefined"==typeof document?{node:!0}:{browser:!0},u=a.node?i.cwd()+s:location.href.replace(/\/[^\/]*$/,"/");return function(i){return i=i.split("\n"),i=t.reduce(i,function(t,i){return a.node&&(e(i)||n(i)||o(i))?t:a.browser&&r(i)?t:(t.push(i.replace(u,"")),t)},[]),i.join("\n")}}});var t=function(){return this}(),n=t.Date,r=t.setTimeout,i=(t.setInterval,t.clearTimeout,t.clearInterval,{});i.exit=function(e){},i.stdout={};var o=[],s=t.onerror;i.removeListener=function(e,n){if("uncaughtException"==e){s?t.onerror=s:t.onerror=function(){};var r=a.utils.indexOf(o,n);-1!=r&&o.splice(r,1)}},i.on=function(e,n){"uncaughtException"==e&&(t.onerror=function(e,t,r){return n(new Error(e+" ("+t+":"+r+")")),!0},o.push(n))};var a=t.Mocha=require("mocha"),u=t.mocha=new a({reporter:"html"});u.suite.removeAllListeners("pre-require");var c,l=[];a.Runner.immediately=function(t){l.push(t),c||(c=r(e,0))},u.throwError=function(e){throw a.utils.forEach(o,function(t){t(e)}),e},u.ui=function(e){return a.prototype.ui.call(this,e),this.suite.emit("pre-require",t,null,this),this},u.setup=function(e){"string"==typeof e&&(e={ui:e});for(var t in e)this[t](e[t]);return this},u.run=function(e){var n=u.options;u.globals("location");var r=a.utils.parseQuery(t.location.search||"");return r.grep&&u.grep(new RegExp(r.grep)),r.fgrep&&u.grep(r.fgrep),r.invert&&u.invert(),a.prototype.run.call(u,function(r){var i=t.document;i&&i.getElementById("mocha")&&n.noHighlighting!==!0&&a.utils.highlightTags("code"),e&&e(r)})},a.process=i}()}.call(e.global),e.get("@@global-helpers").retrieveGlobal(r.id,"mocha")}),e.register("npm:type-detect@1.0.0",["npm:type-detect@1.0.0/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:type-detect@1.0.0/index"),r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/getMessage",["npm:chai@3.2.0/lib/chai/utils/flag","npm:chai@3.2.0/lib/chai/utils/getActual","npm:chai@3.2.0/lib/chai/utils/inspect","npm:chai@3.2.0/lib/chai/utils/objDisplay"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=require("npm:chai@3.2.0/lib/chai/utils/flag"),s=require("npm:chai@3.2.0/lib/chai/utils/getActual"),a=(require("npm:chai@3.2.0/lib/chai/utils/inspect"),require("npm:chai@3.2.0/lib/chai/utils/objDisplay"));return n.exports=function(e,t){var n=o(e,"negate"),r=o(e,"object"),i=t[3],u=s(e,t),c=n?t[2]:t[1],l=o(e,"message");return"function"==typeof c&&(c=c()),c=c||"",c=c.replace(/#{this}/g,a(r)).replace(/#{act}/g,a(u)).replace(/#{exp}/g,a(i)),l?l+": "+c:c},r.define=i,n.exports}),e.register("npm:type-detect@0.1.1",["npm:type-detect@0.1.1/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:type-detect@0.1.1/index"),r.define=i,n.exports}),e.register("npm:buffer@3.3.1/index",["npm:base64-js@0.0.8","npm:ieee754@1.1.6","npm:is-array@1.0.1"],!0,function(require,t,n){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e){return this instanceof i?(this.length=0,this.parent=void 0,"number"==typeof e?o(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):a(this,e)):arguments.length>1?new i(e,arguments[1]):new i(e)}function o(e,t){if(e=p(e,0>t?0:0|d(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function s(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|m(t,n);return e=p(e,r),e.write(t,n),e}function a(e,t){if(i.isBuffer(t))return u(e,t);if(K(t))return c(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer?l(e,t):t.length?f(e,t):h(e,t)}function u(e,t){var n=0|d(t.length);return e=p(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|d(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function l(e,t){var n=0|d(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function f(e,t){var n=0|d(t.length);e=p(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function h(e,t){var n,r=0;"Buffer"===t.type&&K(t.data)&&(n=t.data,r=0|d(n.length)),e=p(e,r);for(var i=0;r>i;i+=1)e[i]=255&n[i];return e}function p(e,t){i.TYPED_ARRAY_SUPPORT?e=i._augment(new Uint8Array(t)):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=i.poolSize>>>1;return n&&(e.parent=X),e}function d(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function g(e,t){if(!(this instanceof g))return new g(e,t);var n=new i(e,t);return delete n.parent,n}function m(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return D(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return _(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return O(this,t,n);case"binary":return S(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;r>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function y(e,t,n,r){return Y(D(t,e.length-n),e,n,r)}function w(e,t,n,r){return Y(z(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function E(e,t,n,r){return Y(F(t),e,n,r)}function j(e,t,n,r){return Y($(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?W.fromByteArray(e):W.fromByteArray(e.slice(t,n))}function T(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(r+=H(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+H(i)}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(127&e[i]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function _(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;n>o;o++)i+=U(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||s>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function I(e,t,n,r){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);o>i;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function C(e,t,n,r){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);o>i;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function q(e,t,n,r,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function B(e,t,n,r,i){return i||q(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),G.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,i){return i||q(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),G.write(e,t,n,r,52,8),n+8}function L(e){if(e=N(e).replace(Z,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function N(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function U(e){return 16>e?"0"+e.toString(16):e.toString(16)}function D(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;r>s;s++){if(n=e.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((t-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);s++)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function F(e){return W.toByteArray(L(e))}function Y(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function H(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var V=e.global,J=V.define;V.define=void 0;var W=require("npm:base64-js@0.0.8"),G=require("npm:ieee754@1.1.6"),K=require("npm:is-array@1.0.1");t.Buffer=i,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,i.poolSize=8192;var X={};i.TYPED_ARRAY_SUPPORT=function(){function e(){}try{var t=new ArrayBuffer(0),n=new Uint8Array(t);return n.foo=function(){return 42},n.constructor=e,42===n.foo()&&n.constructor===e&&"function"==typeof n.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(r){return!1}}(),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);s>o&&e[o]===t[o];)++o;return o!==s&&(n=e[o],r=t[o]),r>n?-1:n>r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!K(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);if(1===e.length)return e[0];var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(r,o),o+=s.length}return r},i.byteLength=m,i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):b.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){function n(e,t,n){for(var r=-1,i=0;n+i<e.length;i++)if(e[n+i]===t[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===t.length)return n+r}else r=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return n(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=t,t=0|n,n=i}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return w(this,e,t,n);case"binary":return x(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(e,t));else{var o=t-e;r=new i(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+e]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},i.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},i.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),G.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),G.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),G.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),G.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||M(this,e,t,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t=0|t,n=0|n,r||M(this,e,t,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):I(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):C(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):C(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,s=1,a=0>e?1:0;for(this[t]=255&e;++o<n&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):I(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||M(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):C(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(1e3>o||!i.TYPED_ARRAY_SUPPORT)for(var s=0;o>s;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;n>r;r++)this[r]=e;else{var i=D(e.toString()),o=i.length;for(r=t;n>r;r++)this[r]=i[r%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._set=e.set,e.get=Q.get,e.set=Q.set,e.write=Q.write,e.toString=Q.toString,e.toLocaleString=Q.toString,e.toJSON=Q.toJSON,e.equals=Q.equals,e.compare=Q.compare,e.indexOf=Q.indexOf,e.copy=Q.copy,e.slice=Q.slice,e.readUIntLE=Q.readUIntLE,e.readUIntBE=Q.readUIntBE,e.readUInt8=Q.readUInt8,e.readUInt16LE=Q.readUInt16LE,e.readUInt16BE=Q.readUInt16BE,e.readUInt32LE=Q.readUInt32LE,e.readUInt32BE=Q.readUInt32BE,e.readIntLE=Q.readIntLE,e.readIntBE=Q.readIntBE,e.readInt8=Q.readInt8,e.readInt16LE=Q.readInt16LE,e.readInt16BE=Q.readInt16BE,e.readInt32LE=Q.readInt32LE,e.readInt32BE=Q.readInt32BE,e.readFloatLE=Q.readFloatLE,e.readFloatBE=Q.readFloatBE,e.readDoubleLE=Q.readDoubleLE,e.readDoubleBE=Q.readDoubleBE,e.writeUInt8=Q.writeUInt8,e.writeUIntLE=Q.writeUIntLE,e.writeUIntBE=Q.writeUIntBE,e.writeUInt16LE=Q.writeUInt16LE,e.writeUInt16BE=Q.writeUInt16BE,e.writeUInt32LE=Q.writeUInt32LE,e.writeUInt32BE=Q.writeUInt32BE,e.writeIntLE=Q.writeIntLE,e.writeIntBE=Q.writeIntBE,e.writeInt8=Q.writeInt8,e.writeInt16LE=Q.writeInt16LE,e.writeInt16BE=Q.writeInt16BE,e.writeInt32LE=Q.writeInt32LE,e.writeInt32BE=Q.writeInt32BE,e.writeFloatLE=Q.writeFloatLE,e.writeFloatBE=Q.writeFloatBE,e.writeDoubleLE=Q.writeDoubleLE,e.writeDoubleBE=Q.writeDoubleBE,e.fill=Q.fill,e.inspect=Q.inspect,e.toArrayBuffer=Q.toArrayBuffer,e};var Z=/[^+\/0-9A-z\-]/g;return V.define=J,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/getPathValue",["npm:chai@3.2.0/lib/chai/utils/getPathInfo"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=require("npm:chai@3.2.0/lib/chai/utils/getPathInfo");return n.exports=function(e,t){var n=o(e,t);return n.value},r.define=i,n.exports}),e.register("npm:mocha@2.2.5",["npm:mocha@2.2.5/mocha"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:mocha@2.2.5/mocha"),r.define=i,n.exports}),e.register("npm:buffer@3.3.1",["npm:buffer@3.3.1/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:buffer@3.3.1/index"),r.define=i,n.exports}),e.register("github:jspm/nodelibs-buffer@0.1.0/index",["npm:buffer@3.3.1"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=e._nodeRequire?e._nodeRequire("buffer"):require("npm:buffer@3.3.1"),r.define=i,n.exports}),e.register("github:jspm/nodelibs-buffer@0.1.0",["github:jspm/nodelibs-buffer@0.1.0/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("github:jspm/nodelibs-buffer@0.1.0/index"),r.define=i,n.exports}),e.register("npm:deep-eql@0.1.3/lib/eql",["npm:type-detect@0.1.1","github:jspm/nodelibs-buffer@0.1.0","github:jspm/nodelibs-buffer@0.1.0"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,function(e){function t(t,n,u){return r(t,n)?!0:"date"===p(t)?o(t,n):"regexp"===p(t)?s(t,n):e.isBuffer(t)?l(t,n):"arguments"===p(t)?a(t,n,u):i(t,n)?"object"!==p(t)&&"object"!==p(n)&&"array"!==p(t)&&"array"!==p(n)?r(t,n):h(t,n,u):!1}function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function i(e,t){return p(e)===p(t)}function o(e,t){return"date"!==p(t)?!1:r(e.getTime(),t.getTime())}function s(e,t){return"regexp"!==p(t)?!1:r(e.toString(),t.toString())}function a(e,n,r){return"arguments"!==p(n)?!1:(e=[].slice.call(e),n=[].slice.call(n),t(e,n,r))}function u(e){var t=[];for(var n in e)t.push(n);return t}function c(e,t){if(e.length!==t.length)return!1;for(var n=0,r=!0;n<e.length;n++)if(e[n]!==t[n]){r=!1;break}return r}function l(t,n){return e.isBuffer(n)?c(t,n):!1}function f(e){return null!==e&&void 0!==e}function h(e,n,r){if(!f(e)||!f(n))return!1;if(e.prototype!==n.prototype)return!1;var i;if(r){for(i=0;i<r.length;i++)if(r[i][0]===e&&r[i][1]===n||r[i][0]===n&&r[i][1]===e)return!0}else r=[];try{var o=u(e),s=u(n)}catch(a){return!1}if(o.sort(),s.sort(),!c(o,s))return!1;r.push([e,n]);var l;for(i=o.length-1;i>=0;i--)if(l=o[i],!t(e[l],n[l],r))return!1;return!0}var e,p=require("npm:type-detect@0.1.1");try{e=require("github:jspm/nodelibs-buffer@0.1.0").Buffer}catch(d){e={},e.isBuffer=function(){return!1}}n.exports=t}(require("github:jspm/nodelibs-buffer@0.1.0").Buffer),r.define=i,n.exports}),e.register("npm:deep-eql@0.1.3/index",["npm:deep-eql@0.1.3/lib/eql"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:deep-eql@0.1.3/lib/eql"),r.define=i,n.exports}),e.register("npm:deep-eql@0.1.3",["npm:deep-eql@0.1.3/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:deep-eql@0.1.3/index"),r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai/utils/index",["npm:chai@3.2.0/lib/chai/utils/test","npm:type-detect@1.0.0","npm:chai@3.2.0/lib/chai/utils/getMessage","npm:chai@3.2.0/lib/chai/utils/getActual","npm:chai@3.2.0/lib/chai/utils/inspect","npm:chai@3.2.0/lib/chai/utils/objDisplay","npm:chai@3.2.0/lib/chai/utils/flag","npm:chai@3.2.0/lib/chai/utils/transferFlags","npm:deep-eql@0.1.3","npm:chai@3.2.0/lib/chai/utils/getPathValue","npm:chai@3.2.0/lib/chai/utils/getPathInfo","npm:chai@3.2.0/lib/chai/utils/hasProperty","npm:chai@3.2.0/lib/chai/utils/getName","npm:chai@3.2.0/lib/chai/utils/addProperty","npm:chai@3.2.0/lib/chai/utils/addMethod","npm:chai@3.2.0/lib/chai/utils/overwriteProperty","npm:chai@3.2.0/lib/chai/utils/overwriteMethod","npm:chai@3.2.0/lib/chai/utils/addChainableMethod","npm:chai@3.2.0/lib/chai/utils/overwriteChainableMethod"],!0,function(require,t,n){
var r=e.global,i=r.define;r.define=void 0;var t=n.exports={};return t.test=require("npm:chai@3.2.0/lib/chai/utils/test"),t.type=require("npm:type-detect@1.0.0"),t.getMessage=require("npm:chai@3.2.0/lib/chai/utils/getMessage"),t.getActual=require("npm:chai@3.2.0/lib/chai/utils/getActual"),t.inspect=require("npm:chai@3.2.0/lib/chai/utils/inspect"),t.objDisplay=require("npm:chai@3.2.0/lib/chai/utils/objDisplay"),t.flag=require("npm:chai@3.2.0/lib/chai/utils/flag"),t.transferFlags=require("npm:chai@3.2.0/lib/chai/utils/transferFlags"),t.eql=require("npm:deep-eql@0.1.3"),t.getPathValue=require("npm:chai@3.2.0/lib/chai/utils/getPathValue"),t.getPathInfo=require("npm:chai@3.2.0/lib/chai/utils/getPathInfo"),t.hasProperty=require("npm:chai@3.2.0/lib/chai/utils/hasProperty"),t.getName=require("npm:chai@3.2.0/lib/chai/utils/getName"),t.addProperty=require("npm:chai@3.2.0/lib/chai/utils/addProperty"),t.addMethod=require("npm:chai@3.2.0/lib/chai/utils/addMethod"),t.overwriteProperty=require("npm:chai@3.2.0/lib/chai/utils/overwriteProperty"),t.overwriteMethod=require("npm:chai@3.2.0/lib/chai/utils/overwriteMethod"),t.addChainableMethod=require("npm:chai@3.2.0/lib/chai/utils/addChainableMethod"),t.overwriteChainableMethod=require("npm:chai@3.2.0/lib/chai/utils/overwriteChainableMethod"),r.define=i,n.exports}),e.register("npm:chai@3.2.0/lib/chai",["npm:assertion-error@1.0.1","npm:chai@3.2.0/lib/chai/utils/index","npm:chai@3.2.0/lib/chai/config","npm:chai@3.2.0/lib/chai/assertion","npm:chai@3.2.0/lib/chai/core/assertions","npm:chai@3.2.0/lib/chai/interface/expect","npm:chai@3.2.0/lib/chai/interface/should","npm:chai@3.2.0/lib/chai/interface/assert"],!0,function(require,t,n){var r=e.global,i=r.define;r.define=void 0;var o=[],t=n.exports={};t.version="3.2.0",t.AssertionError=require("npm:assertion-error@1.0.1");var s=require("npm:chai@3.2.0/lib/chai/utils/index");t.use=function(e){return~o.indexOf(e)||(e(this,s),o.push(e)),this},t.util=s;var a=require("npm:chai@3.2.0/lib/chai/config");t.config=a;var u=require("npm:chai@3.2.0/lib/chai/assertion");t.use(u);var c=require("npm:chai@3.2.0/lib/chai/core/assertions");t.use(c);var l=require("npm:chai@3.2.0/lib/chai/interface/expect");t.use(l);var f=require("npm:chai@3.2.0/lib/chai/interface/should");t.use(f);var h=require("npm:chai@3.2.0/lib/chai/interface/assert");return t.use(h),r.define=i,n.exports}),e.register("npm:chai@3.2.0/index",["npm:chai@3.2.0/lib/chai"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:chai@3.2.0/lib/chai"),r.define=i,n.exports}),e.register("npm:chai@3.2.0",["npm:chai@3.2.0/index"],!0,function(require,t,n){var r=e.global,i=r.define;return r.define=void 0,n.exports=require("npm:chai@3.2.0/index"),r.define=i,n.exports}),e.register("test/setup",["npm:chai@3.2.0","npm:mocha@2.2.5"],function(e){"use strict";var t,n;return{setters:[function(e){t=e["default"]},function(e){n=e["default"]}],execute:function(){e("default",function(e){var r={sandbox:null,defaultInit:function(){beforeEach(r.globalSetup),afterEach(r.globalTeardown)},globalSetup:function(){var e=document.createElement("div");e.setAttribute("id","sandbox"),r.sandbox=e,document.body.appendChild(r.sandbox),document.msCSSOMElementFloatMetrics&&(document.msCSSOMElementFloatMetrics=null)},globalTeardown:function(){r.sandbox.parentNode.removeChild(r.sandbox)}};return e.assert=t.assert,e.isBrowser=!0,t.config.includeStack=!0,n.setup("bdd"),r}(window))}}}),e.register("test/test",["test/setup"],function(e){"use strict";function t(e){return/\{\s*\[native code\]\s*\}/.test(""+e)}function n(e,t){var n=function(e){var n=!0;for(var r in t)n=n&&t[r]==e[r];return n},r=!1;if(e.forEach(function(e){r=r||n(e)}),!r)throw new Error("A change matching type: "+t.type+", name: "+t.name+", newValue: "+t.newValue+", oldValue: "+t.oldValue+" not found!")}var r;return{setters:[function(e){r=e["default"]}],execute:function(){describe("Simple Plain object",function(){r.defaultInit(),it("simple add",function(e){var t={a:3,b:4};Object.observe(t,function(t){assert.equal(t.length,1),assert.equal(t[0].name,"c"),assert.equal(t[0].object.c,10),assert.equal(t[0].type,"add"),e()}),t.c=10}),it("simple update",function(e){var t={a:3,b:4};Object.observe(t,function(t){assert.equal(t.length,1),assert.equal(t[0].name,"b"),assert.equal(t[0].object.b,10),assert.equal(t[0].type,"update"),e()}),t.b=10}),it("simple delete",function(e){var t={a:3,b:4};Object.observe(t,function(t){assert.equal(t.length,1),assert.equal(t[0].name,"b"),assert.isUndefined(t[0].object.b),assert.equal(t[0].type,"delete"),e()}),delete t.b}),it("Multiple callbacks",function(e){var t=0,n={a:3,b:4},r=function(e){t++,s(),assert.equal(e.length,1),assert.equal(e[0].name,"b"),assert.equal(e[0].object.b,10),assert.equal(e[0].type,"update")},i=function(e){t++,s(),assert.equal(e.length,1),assert.equal(e[0].name,"b"),assert.equal(e[0].object.b,10),assert.equal(e[0].type,"update")},o=function(e){t++,s(),assert.equal(e.length,1),assert.equal(e[0].name,"b"),assert.equal(e[0].object.b,10),assert.equal(e[0].type,"update")},s=function(){3==t&&e()};Object.observe(n,r),Object.observe(n,i),Object.observe(n,o),n.b=10}),it("Unobserve",function(e){var n=0,r={a:3,b:4},i=function(e){n++,a(),assert.equal(e.length,1),assert.equal(e[0].name,"b"),assert.equal(e[0].object.b,10),assert.equal(e[0].type,"update")},o=function(e){n++,a(),assert.equal(e.length,1),assert.equal(e[0].name,"b"),assert.equal(e[0].object.b,10),assert.equal(e[0].type,"update")},s=function(e){n++,a(),assert.equal(e.length,1),assert.equal(e[0].name,"b"),assert.equal(e[0].object.b,10),assert.equal(e[0].type,"update")},a=function(){3==n&&(t(Object.observe)||(Object.unobserve(r,i),assert.equal(r.$$__observers.listeners.length,2),Object.unobserve(r,o),assert.equal(r.$$__observers.listeners.length,1),Object.unobserve(r,s),assert.isUndefined(r.$$__observers)),e())};Object.observe(r,i),Object.observe(r,o),Object.observe(r,s),r.b=10})}),describe("Complex Plain object",function(){r.defaultInit(),it("Add",function(e){var t={};Object.observe(t,function(t){assert.equal(t.length,1),assert.equal(t[0].name,"sub"),assert.equal(t[0].object.sub.firstname,"Romeo"),assert.equal(t[0].object.sub.lastname,"Kenfack Tsakem"),assert.equal(t[0].type,"add"),e()}),t.sub={firstname:"Romeo",lastname:"Kenfack Tsakem"}}),it("Update",function(e){var t={sub:{firstname:"Romeo",lastname:"Kenfack Tsakem"}},n={firstname:"Romeo",lastname:"Kenfack Tsakem"};Object.observe(t,function(t){assert.equal(t.length,1),assert.equal(t[0].name,"sub"),assert.equal(t[0].object.sub,n),assert.equal(t[0].type,"update"),e()}),t.sub=n}),it("Delete",function(e){var t={sub:{firstname:"Romeo",lastname:"Kenfack Tsakem"}};Object.observe(t,function(t){assert.equal(t.length,1),assert.equal(t[0].name,"sub"),assert.isUndefined(t[0].object.sub),assert.equal(t[0].type,"delete"),e()}),delete t.sub})}),describe("Array tests",function(){it("Should observe arrays",function(e){var t=function(){},n=[];Object.observe(n,t),Object.unobserve(n,t),e()}),it("Should notify when a new item is added with push",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,2),n(t,{type:"add",name:"0"}),n(t,{type:"update",name:"length",oldValue:0}),e()},r=[];Object.observe(r,t),r.push(1)}),it("Should notify when a new item is added with unshift",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,2),n(t,{type:"add",name:"0"}),n(t,{type:"update",name:"length",oldValue:0}),e()},r=[];Object.observe(r,t),r.unshift(1)}),it("Should notify when a new item is added by next index",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,2),n(t,{type:"add",name:"0"}),n(t,{type:"update",name:"length",oldValue:0}),e()},r=[];Object.observe(r,t),r[r.length]=1}),it("Should notify when a new item is added by any index",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,2),n(t,{type:"add",name:"5"}),n(t,{type:"update",name:"length",oldValue:0}),e()},r=[];Object.observe(r,t),r[5]=1}),it("Should notify when items are removed from the array using pop",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,2),n(t,{type:"delete",name:"2",oldValue:3}),n(t,{type:"update",name:"length",oldValue:3}),e()},r=[1,2,3];Object.observe(r,t),r.pop()}),it("Should notify when items are removed from the array using shift",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,4),n(t,{type:"update",name:"0",oldValue:1}),n(t,{type:"update",name:"1",oldValue:2}),n(t,{type:"delete",name:"2",oldValue:3}),n(t,{type:"update",name:"length",oldValue:3}),e()},r=[1,2,3];Object.observe(r,t),r.shift()}),it("Should notify when items are removed from the array using delete",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,1),n(t,{type:"delete",name:"1",oldValue:2}),e()},r=[1,2,3];Object.observe(r,t),delete r[1]}),it("Should notify when items are removed from the array using splice",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,3),n(t,{type:"update",name:"1",oldValue:2}),n(t,{type:"delete",name:"2",oldValue:3}),n(t,{type:"update",name:"length",oldValue:3}),e()},r=[1,2,3];Object.observe(r,t),r.splice(1,1)}),it("Should notify when an array item is updated",function(e){var t=function i(t){Object.unobserve(r,i),assert.equal(t.length,1),n(t,{type:"update",name:"1",oldValue:2}),e()},r=[1,2,3];Object.observe(r,t),r[1]=4})})}}}),e.register("npm:mocha@2.2.5/mocha.css!github:systemjs/plugin-css@0.1.13",[],!1,function(){}),function(e){var t=document,n="appendChild",r="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=e:i[n](t.createTextNode(e))}("@charset \"utf-8\";#mocha ul,#mocha-stats li{list-style:none}#mocha h1,#mocha h2,body{margin:0}#mocha{font:20px/1.5 \"Helvetica Neue\",Helvetica,Arial,sans-serif;margin:60px 50px}#mocha li,#mocha ul{margin:0;padding:0}#mocha .suite,#mocha .test{margin-left:15px}#mocha h1{margin-top:15px;font-size:1em;font-weight:200}#mocha h1 a{text-decoration:none;color:inherit}#mocha h1 a:hover{text-decoration:underline}#mocha .suite .suite h1{margin-top:0;font-size:.8em}#mocha .hidden{display:none}#mocha h2{font-size:12px;font-weight:400;cursor:pointer}#mocha .test{overflow:hidden}#mocha .test.pending:hover h2::after{content:'(pending)';font-family:arial,sans-serif}#mocha .test.pass.medium .duration{background:#c09853}#mocha .test.pass.slow .duration{background:#b94a48}#mocha .test.pass::before{content:'\u2713';font-size:12px;display:block;float:left;margin-right:5px;color:#00d6b2}#mocha .test.pass .duration{font-size:9px;margin-left:5px;padding:2px 5px;color:#fff;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.2);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.2);box-shadow:inset 0 1px 1px rgba(0,0,0,.2);-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;border-radius:5px}#mocha .test.pass.fast .duration{display:none}#mocha .test.pending{color:#0b97c4}#mocha .test.pending::before{content:'\u25e6';color:#0b97c4}#mocha .test.fail{color:#c00}#mocha .test.fail pre{color:#000}#mocha .test.fail::before{content:'\u2716';font-size:12px;display:block;float:left;margin-right:5px;color:#c00}#mocha .test pre.error{color:#c00;max-height:300px;overflow:auto}#mocha .test pre{display:block;float:left;clear:left;font:12px/1.5 monaco,monospace;margin:5px;padding:15px;border:1px solid #eee;max-width:85%;max-width:calc(100% - 42px);word-wrap:break-word;border-bottom-color:#ddd;-webkit-border-radius:3px;-webkit-box-shadow:0 1px 3px #eee;-moz-border-radius:3px;-moz-box-shadow:0 1px 3px #eee;border-radius:3px}#mocha .test h2{position:relative}#mocha .test a.replay{position:absolute;top:3px;right:0;text-decoration:none;vertical-align:middle;display:block;width:15px;height:15px;line-height:15px;text-align:center;background:#eee;font-size:15px;-moz-border-radius:15px;border-radius:15px;-webkit-transition:opacity 200ms;-moz-transition:opacity 200ms;transition:opacity 200ms;opacity:.3;color:#888}#mocha .test:hover a.replay{opacity:1}#mocha-report.fail .test.pass,#mocha-report.pass .test.fail,#mocha-report.pending .test.fail,#mocha-report.pending .test.pass{display:none}#mocha-report.pending .test.pass.pending{display:block}#mocha-error{color:#c00;font-size:1.5em;font-weight:100;letter-spacing:1px}#mocha-stats{position:fixed;top:15px;right:10px;font-size:12px;margin:0;color:#888;z-index:1}#mocha-stats .progress{float:right;padding-top:0}#mocha-stats em{color:#000}#mocha-stats a{text-decoration:none;color:inherit}#mocha-stats a:hover{border-bottom:1px solid #eee}#mocha-stats li{display:inline-block;margin:0 5px;padding-top:11px}#mocha-stats canvas{width:40px;height:40px}#mocha code .comment{color:#ddd}#mocha code .init{color:#2f6fad}#mocha code .string{color:#5890ad}#mocha code .keyword{color:#8a6343}#mocha code .number{color:#2f6fad}@media screen and (max-device-width:480px){#mocha{margin:60px 0}#mocha #stats{position:absolute}}"),function(){function t(e,t){for(var n=e.split(".");n.length;)t=t[n.shift()];return t}function n(e){if(Object.keys)Object.keys(i.global).forEach(e);else for(var t in i.global)a.call(i.global,t)&&e(t)}function r(e){n(function(t){if(-1==indexOf.call(s,t)){try{var n=i.global[t]}catch(r){s.push(t)}e(t,n)}})}var i=e;"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf);var o,s=["sessionStorage","localStorage","clipboardData","frames","external"],a=i.global.hasOwnProperty,u={};i.set("@@global-helpers",i.newModule({prepareGlobal:function(e,t){for(var n=0;n<t.length;n++){var s=u[t[n]];if(s)for(var a in s)i.global[a]=s[a]}o={},r(function(e,t){o[e]=t})},retrieveGlobal:function(e,n,s){var a,c,l={};if(s)a=s.call(i.global);else if(n){var f=n.split(".")[0];a=t(n,i.global),l[f]=i.global[f]}else r(function(e,t){o[e]!==t&&"undefined"!=typeof t&&(l[e]=t,"undefined"!=typeof a?c||a===t||(c=!0):a=t)});return u[e]=l,c?l:a}}))}()});
//# sourceMappingURL=test.min.js.map